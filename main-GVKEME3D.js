import{$ as W,A as Ot,Aa as ki,Ba as Oi,Ca as Mi,Da as it,Fa as Vi,Ga as Nn,H as Pi,Ha as Fi,Ia as Li,Ja as xi,K as Cn,Ka as Bi,La as qi,M as tt,Ma as $i,N as nt,Na as zi,Oa as ji,Pa as Ui,Q as Di,Qa as Vt,Ra as Ki,Ta as kn,U as Mt,Ua as C,Va as ce,Wa as Hi,Xa as On,Y as rt,Ya as $e,Za as Mn,_a as Ft,a as Be,aa as te,b as Si,ba as ne,c as Ai,d as q,ea as Ci,ka as Re,r as Ii,s as k,sa as Ri,u as ue,v as Nt,va as Ni,x as kt,z as qe,za as Rn}from"./chunk-WOZX3UZH.js";var Qi=(()=>{let e=class e{constructor(){this.title="mdb-angular-ui-kit-free"}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=qe({type:e,selectors:[["app-root"]],decls:1,vars:0,template:function(i,s){i&1&&ne(0,"router-outlet")},dependencies:[Vt]});let n=e;return n})();var Gi=()=>{};var Xi=function(n){let e=[],t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},ia=function(n){let e=[],t=0,r=0;for(;t<n.length;){let i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=n[t++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){let s=n[t++],o=n[t++],a=n[t++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{let s=n[t++],o=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},Zi={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){let s=n[i],o=i+1<n.length,a=o?n[i+1]:0,l=i+2<n.length,h=l?n[i+2]:0,y=s>>2,_=(s&3)<<4|a>>4,v=(a&15)<<2|h>>6,E=h&63;l||(E=64,o||(v=64)),r.push(t[y],t[_],t[v],t[E])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(Xi(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):ia(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){let s=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;let h=i<n.length?t[n.charAt(i)]:64;++i;let _=i<n.length?t[n.charAt(i)]:64;if(++i,s==null||a==null||h==null||_==null)throw new Vn;let v=s<<2|a>>4;if(r.push(v),h!==64){let E=a<<4&240|h>>2;if(r.push(E),_!==64){let w=h<<6&192|_;r.push(w)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},Vn=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},sa=function(n){let e=Xi(n);return Zi.encodeByteArray(e,!0)},ot=function(n){return sa(n).replace(/\./g,"")},es=function(n){try{return Zi.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function oa(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var aa=()=>oa().__FIREBASE_DEFAULTS__,la=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},ua=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&es(n[1]);return e&&JSON.parse(e)},ts=()=>{try{return Gi()||aa()||la()||ua()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},ca=n=>{var e,t;return(t=(e=ts())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},ns=n=>{let e=ca(n);if(!e)return;let t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},Fn=()=>{var n;return(n=ts())===null||n===void 0?void 0:n.config};var Lt=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}};function xt(n){return n.endsWith(".cloudworkstations.dev")}function rs(n){return q(this,null,function*(){return(yield fetch(n,{credentials:"include"})).ok})}function is(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,s=n.sub||n.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},n);return[ot(JSON.stringify(t)),ot(JSON.stringify(o)),""].join(".")}var st={};function ha(){let n={prod:[],emulator:[]};for(let e of Object.keys(st))st[e]?n.emulator.push(e):n.prod.push(e);return n}function da(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}var Yi=!1;function Ln(n,e){if(typeof window>"u"||typeof document>"u"||!xt(window.location.host)||st[n]===e||st[n]||Yi)return;st[n]=e;function t(v){return`__firebase__banner__${v}`}let r="__firebase__banner",s=ha().prod.length>0;function o(){let v=document.getElementById(r);v&&v.remove()}function a(v){v.style.display="flex",v.style.background="#7faaf0",v.style.position="fixed",v.style.bottom="5px",v.style.left="5px",v.style.padding=".5em",v.style.borderRadius="5px",v.style.alignItems="center"}function l(v,E){v.setAttribute("width","24"),v.setAttribute("id",E),v.setAttribute("height","24"),v.setAttribute("viewBox","0 0 24 24"),v.setAttribute("fill","none"),v.style.marginLeft="-6px"}function h(){let v=document.createElement("span");return v.style.cursor="pointer",v.style.marginLeft="16px",v.style.fontSize="24px",v.innerHTML=" &times;",v.onclick=()=>{Yi=!0,o()},v}function y(v,E){v.setAttribute("id",E),v.innerText="Learn more",v.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",v.setAttribute("target","__blank"),v.style.paddingLeft="5px",v.style.textDecoration="underline"}function _(){let v=da(r),E=t("text"),w=document.getElementById(E)||document.createElement("span"),b=t("learnmore"),P=document.getElementById(b)||document.createElement("a"),V=t("preprendIcon"),O=document.getElementById(V)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(v.created){let F=v.element;a(F),y(P,b);let L=h();l(O,V),F.append(O,w,P,L),document.body.appendChild(F)}s?(w.innerText="Preview backend disconnected.",O.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(O.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,w.innerText="Preview backend running in this workspace."),w.setAttribute("id",E)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",_):_()}function ss(){try{return typeof indexedDB=="object"}catch{return!1}}function os(){return new Promise((n,e)=>{try{let t=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(t){e(t)}})}var fa="FirebaseError",pe=class n extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=fa,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,at.prototype.create)}},at=class{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?ma(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new pe(i,a,r)}};function ma(n,e){return n.replace(pa,(t,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var pa=/\{\$([^}]+)}/g;function ze(n,e){if(n===e)return!0;let t=Object.keys(n),r=Object.keys(e);for(let i of t){if(!r.includes(i))return!1;let s=n[i],o=e[i];if(Ji(s)&&Ji(o)){if(!ze(s,o))return!1}else if(s!==o)return!1}for(let i of r)if(!t.includes(i))return!1;return!0}function Ji(n){return n!==null&&typeof n=="object"}var Uc=4*60*60*1e3;function lt(n){return n&&n._delegate?n._delegate:n}var ge=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Ne="[DEFAULT]";var xn=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let r=new Lt;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(ya(e))try{this.getOrInitializeService({instanceIdentifier:Ne})}catch{}for(let[t,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(t);try{let s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Ne){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return q(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Ne){return this.instances.has(e)}getOptions(e=Ne){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(let[s,o]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,t){var r;let i=this.normalizeInstanceIdentifier(t),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);let o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){let r=this.onInitCallbacks.get(t);if(r)for(let i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:ga(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ne){return this.component?this.component.multipleInstances?e:Ne:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function ga(n){return n===Ne?void 0:n}function ya(n){return n.instantiationMode==="EAGER"}var Bt=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new xn(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var _a=[],M=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(M||{}),va={debug:M.DEBUG,verbose:M.VERBOSE,info:M.INFO,warn:M.WARN,error:M.ERROR,silent:M.SILENT},wa=M.INFO,Ea={[M.DEBUG]:"log",[M.VERBOSE]:"log",[M.INFO]:"info",[M.WARN]:"warn",[M.ERROR]:"error"},ba=(n,e,...t)=>{if(e<n.logLevel)return;let r=new Date().toISOString(),i=Ea[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},je=class{constructor(e){this.name=e,this._logLevel=wa,this._logHandler=ba,this._userLogHandler=null,_a.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in M))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?va[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,M.DEBUG,...e),this._logHandler(this,M.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,M.VERBOSE,...e),this._logHandler(this,M.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,M.INFO,...e),this._logHandler(this,M.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,M.WARN,...e),this._logHandler(this,M.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,M.ERROR,...e),this._logHandler(this,M.ERROR,...e)}};var Ta=(n,e)=>e.some(t=>n instanceof t),as,ls;function Sa(){return as||(as=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Aa(){return ls||(ls=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var us=new WeakMap,qn=new WeakMap,cs=new WeakMap,Bn=new WeakMap,zn=new WeakMap;function Ia(n){let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("success",s),n.removeEventListener("error",o)},s=()=>{t(he(n.result)),i()},o=()=>{r(n.error),i()};n.addEventListener("success",s),n.addEventListener("error",o)});return e.then(t=>{t instanceof IDBCursor&&us.set(t,n)}).catch(()=>{}),zn.set(e,n),e}function Pa(n){if(qn.has(n))return;let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",o),n.removeEventListener("abort",o)},s=()=>{t(),i()},o=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",s),n.addEventListener("error",o),n.addEventListener("abort",o)});qn.set(n,e)}var $n={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return qn.get(n);if(e==="objectStoreNames")return n.objectStoreNames||cs.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return he(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function hs(n){$n=n($n)}function Da(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let r=n.call(qt(this),e,...t);return cs.set(r,e.sort?e.sort():[e]),he(r)}:Aa().includes(n)?function(...e){return n.apply(qt(this),e),he(us.get(this))}:function(...e){return he(n.apply(qt(this),e))}}function Ca(n){return typeof n=="function"?Da(n):(n instanceof IDBTransaction&&Pa(n),Ta(n,Sa())?new Proxy(n,$n):n)}function he(n){if(n instanceof IDBRequest)return Ia(n);if(Bn.has(n))return Bn.get(n);let e=Ca(n);return e!==n&&(Bn.set(n,e),zn.set(e,n)),e}var qt=n=>zn.get(n);function fs(n,e,{blocked:t,upgrade:r,blocking:i,terminated:s}={}){let o=indexedDB.open(n,e),a=he(o);return r&&o.addEventListener("upgradeneeded",l=>{r(he(o.result),l.oldVersion,l.newVersion,he(o.transaction),l)}),t&&o.addEventListener("blocked",l=>t(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",h=>i(h.oldVersion,h.newVersion,h))}).catch(()=>{}),a}var Ra=["get","getKey","getAll","getAllKeys","count"],Na=["put","add","delete","clear"],jn=new Map;function ds(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(jn.get(e))return jn.get(e);let t=e.replace(/FromIndex$/,""),r=e!==t,i=Na.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||Ra.includes(t)))return;let s=function(o,...a){return q(this,null,function*(){let l=this.transaction(o,i?"readwrite":"readonly"),h=l.store;return r&&(h=h.index(a.shift())),(yield Promise.all([h[t](...a),i&&l.done]))[0]})};return jn.set(e,s),s}hs(n=>Si(Be({},n),{get:(e,t,r)=>ds(e,t)||n.get(e,t,r),has:(e,t)=>!!ds(e,t)||n.has(e,t)}));var Kn=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(ka(t)){let r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}};function ka(n){let e=n.getComponent();return e?.type==="VERSION"}var Hn="@firebase/app",ms="0.12.3";var ye=new je("@firebase/app"),Oa="@firebase/app-compat",Ma="@firebase/analytics-compat",Va="@firebase/analytics",Fa="@firebase/app-check-compat",La="@firebase/app-check",xa="@firebase/auth",Ba="@firebase/auth-compat",qa="@firebase/database",$a="@firebase/data-connect",za="@firebase/database-compat",ja="@firebase/functions",Ua="@firebase/functions-compat",Ka="@firebase/installations",Ha="@firebase/installations-compat",Wa="@firebase/messaging",Qa="@firebase/messaging-compat",Ga="@firebase/performance",Ya="@firebase/performance-compat",Ja="@firebase/remote-config",Xa="@firebase/remote-config-compat",Za="@firebase/storage",el="@firebase/storage-compat",tl="@firebase/firestore",nl="@firebase/vertexai",rl="@firebase/firestore-compat",il="firebase",sl="11.7.3";var Wn="[DEFAULT]",ol={[Hn]:"fire-core",[Oa]:"fire-core-compat",[Va]:"fire-analytics",[Ma]:"fire-analytics-compat",[La]:"fire-app-check",[Fa]:"fire-app-check-compat",[xa]:"fire-auth",[Ba]:"fire-auth-compat",[qa]:"fire-rtdb",[$a]:"fire-data-connect",[za]:"fire-rtdb-compat",[ja]:"fire-fn",[Ua]:"fire-fn-compat",[Ka]:"fire-iid",[Ha]:"fire-iid-compat",[Wa]:"fire-fcm",[Qa]:"fire-fcm-compat",[Ga]:"fire-perf",[Ya]:"fire-perf-compat",[Ja]:"fire-rc",[Xa]:"fire-rc-compat",[Za]:"fire-gcs",[el]:"fire-gcs-compat",[tl]:"fire-fst",[rl]:"fire-fst-compat",[nl]:"fire-vertex","fire-js":"fire-js",[il]:"fire-js-all"};var $t=new Map,al=new Map,Qn=new Map;function ps(n,e){try{n.container.addComponent(e)}catch(t){ye.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function ut(n){let e=n.name;if(Qn.has(e))return ye.debug(`There were multiple attempts to register component ${e}.`),!1;Qn.set(e,n);for(let t of $t.values())ps(t,n);for(let t of al.values())ps(t,n);return!0}function vs(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function ws(n){return n==null?!1:n.settings!==void 0}var ll={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},be=new at("app","Firebase",ll);var Gn=class{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ge("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw be.create("app-deleted",{appName:this._name})}};var Es=sl;function Xn(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let r=Object.assign({name:Wn,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw be.create("bad-app-name",{appName:String(i)});if(t||(t=Fn()),!t)throw be.create("no-options");let s=$t.get(i);if(s){if(ze(t,s.options)&&ze(r,s.config))return s;throw be.create("duplicate-app",{appName:i})}let o=new Bt(i);for(let l of Qn.values())o.addComponent(l);let a=new Gn(t,r,o);return $t.set(i,a),a}function bs(n=Wn){let e=$t.get(n);if(!e&&n===Wn&&Fn())return Xn();if(!e)throw be.create("no-app",{appName:n});return e}function Te(n,e,t){var r;let i=(r=ol[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);let s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ye.warn(a.join(" "));return}ut(new ge(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var ul="firebase-heartbeat-database",cl=1,ct="firebase-heartbeat-store",Un=null;function Ts(){return Un||(Un=fs(ul,cl,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(ct)}catch(t){console.warn(t)}}}}).catch(n=>{throw be.create("idb-open",{originalErrorMessage:n.message})})),Un}function hl(n){return q(this,null,function*(){try{let t=(yield Ts()).transaction(ct),r=yield t.objectStore(ct).get(Ss(n));return yield t.done,r}catch(e){if(e instanceof pe)ye.warn(e.message);else{let t=be.create("idb-get",{originalErrorMessage:e?.message});ye.warn(t.message)}}})}function gs(n,e){return q(this,null,function*(){try{let r=(yield Ts()).transaction(ct,"readwrite");yield r.objectStore(ct).put(e,Ss(n)),yield r.done}catch(t){if(t instanceof pe)ye.warn(t.message);else{let r=be.create("idb-set",{originalErrorMessage:t?.message});ye.warn(r.message)}}})}function Ss(n){return`${n.name}!${n.options.appId}`}var dl=1024,fl=30,Yn=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new Jn(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return q(this,null,function*(){var e,t;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=ys();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>fl){let o=pl(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){ye.warn(r)}})}getHeartbeatsHeader(){return q(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=ys(),{heartbeatsToSend:r,unsentEntries:i}=ml(this._heartbeatsCache.heartbeats),s=ot(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(t){return ye.warn(t),""}})}};function ys(){return new Date().toISOString().substring(0,10)}function ml(n,e=dl){let t=[],r=n.slice();for(let i of n){let s=t.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),_s(t)>e){s.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),_s(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}var Jn=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return q(this,null,function*(){return ss()?os().then(()=>!0).catch(()=>!1):!1})}read(){return q(this,null,function*(){if(yield this._canUseIndexedDBPromise){let t=yield hl(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return q(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return gs(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return q(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return gs(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function _s(n){return ot(JSON.stringify({version:2,heartbeats:n})).length}function pl(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}function gl(n){ut(new ge("platform-logger",e=>new Kn(e),"PRIVATE")),ut(new ge("heartbeat",e=>new Yn(e),"PRIVATE")),Te(Hn,ms,n),Te(Hn,ms,"esm2017"),Te("fire-js","")}gl("");var As=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Is={};var Zn,yl;(function(){var n;function e(m,u){function d(){}d.prototype=u.prototype,m.D=u.prototype,m.prototype=new d,m.prototype.constructor=m,m.C=function(f,p,g){for(var c=Array(arguments.length-2),ae=2;ae<arguments.length;ae++)c[ae-2]=arguments[ae];return u.prototype[p].apply(f,c)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(m,u,d){d||(d=0);var f=Array(16);if(typeof u=="string")for(var p=0;16>p;++p)f[p]=u.charCodeAt(d++)|u.charCodeAt(d++)<<8|u.charCodeAt(d++)<<16|u.charCodeAt(d++)<<24;else for(p=0;16>p;++p)f[p]=u[d++]|u[d++]<<8|u[d++]<<16|u[d++]<<24;u=m.g[0],d=m.g[1],p=m.g[2];var g=m.g[3],c=u+(g^d&(p^g))+f[0]+3614090360&4294967295;u=d+(c<<7&4294967295|c>>>25),c=g+(p^u&(d^p))+f[1]+3905402710&4294967295,g=u+(c<<12&4294967295|c>>>20),c=p+(d^g&(u^d))+f[2]+606105819&4294967295,p=g+(c<<17&4294967295|c>>>15),c=d+(u^p&(g^u))+f[3]+3250441966&4294967295,d=p+(c<<22&4294967295|c>>>10),c=u+(g^d&(p^g))+f[4]+4118548399&4294967295,u=d+(c<<7&4294967295|c>>>25),c=g+(p^u&(d^p))+f[5]+1200080426&4294967295,g=u+(c<<12&4294967295|c>>>20),c=p+(d^g&(u^d))+f[6]+2821735955&4294967295,p=g+(c<<17&4294967295|c>>>15),c=d+(u^p&(g^u))+f[7]+4249261313&4294967295,d=p+(c<<22&4294967295|c>>>10),c=u+(g^d&(p^g))+f[8]+1770035416&4294967295,u=d+(c<<7&4294967295|c>>>25),c=g+(p^u&(d^p))+f[9]+2336552879&4294967295,g=u+(c<<12&4294967295|c>>>20),c=p+(d^g&(u^d))+f[10]+4294925233&4294967295,p=g+(c<<17&4294967295|c>>>15),c=d+(u^p&(g^u))+f[11]+2304563134&4294967295,d=p+(c<<22&4294967295|c>>>10),c=u+(g^d&(p^g))+f[12]+1804603682&4294967295,u=d+(c<<7&4294967295|c>>>25),c=g+(p^u&(d^p))+f[13]+4254626195&4294967295,g=u+(c<<12&4294967295|c>>>20),c=p+(d^g&(u^d))+f[14]+2792965006&4294967295,p=g+(c<<17&4294967295|c>>>15),c=d+(u^p&(g^u))+f[15]+1236535329&4294967295,d=p+(c<<22&4294967295|c>>>10),c=u+(p^g&(d^p))+f[1]+4129170786&4294967295,u=d+(c<<5&4294967295|c>>>27),c=g+(d^p&(u^d))+f[6]+3225465664&4294967295,g=u+(c<<9&4294967295|c>>>23),c=p+(u^d&(g^u))+f[11]+643717713&4294967295,p=g+(c<<14&4294967295|c>>>18),c=d+(g^u&(p^g))+f[0]+3921069994&4294967295,d=p+(c<<20&4294967295|c>>>12),c=u+(p^g&(d^p))+f[5]+3593408605&4294967295,u=d+(c<<5&4294967295|c>>>27),c=g+(d^p&(u^d))+f[10]+38016083&4294967295,g=u+(c<<9&4294967295|c>>>23),c=p+(u^d&(g^u))+f[15]+3634488961&4294967295,p=g+(c<<14&4294967295|c>>>18),c=d+(g^u&(p^g))+f[4]+3889429448&4294967295,d=p+(c<<20&4294967295|c>>>12),c=u+(p^g&(d^p))+f[9]+568446438&4294967295,u=d+(c<<5&4294967295|c>>>27),c=g+(d^p&(u^d))+f[14]+3275163606&4294967295,g=u+(c<<9&4294967295|c>>>23),c=p+(u^d&(g^u))+f[3]+4107603335&4294967295,p=g+(c<<14&4294967295|c>>>18),c=d+(g^u&(p^g))+f[8]+1163531501&4294967295,d=p+(c<<20&4294967295|c>>>12),c=u+(p^g&(d^p))+f[13]+2850285829&4294967295,u=d+(c<<5&4294967295|c>>>27),c=g+(d^p&(u^d))+f[2]+4243563512&4294967295,g=u+(c<<9&4294967295|c>>>23),c=p+(u^d&(g^u))+f[7]+1735328473&4294967295,p=g+(c<<14&4294967295|c>>>18),c=d+(g^u&(p^g))+f[12]+2368359562&4294967295,d=p+(c<<20&4294967295|c>>>12),c=u+(d^p^g)+f[5]+4294588738&4294967295,u=d+(c<<4&4294967295|c>>>28),c=g+(u^d^p)+f[8]+2272392833&4294967295,g=u+(c<<11&4294967295|c>>>21),c=p+(g^u^d)+f[11]+1839030562&4294967295,p=g+(c<<16&4294967295|c>>>16),c=d+(p^g^u)+f[14]+4259657740&4294967295,d=p+(c<<23&4294967295|c>>>9),c=u+(d^p^g)+f[1]+2763975236&4294967295,u=d+(c<<4&4294967295|c>>>28),c=g+(u^d^p)+f[4]+1272893353&4294967295,g=u+(c<<11&4294967295|c>>>21),c=p+(g^u^d)+f[7]+4139469664&4294967295,p=g+(c<<16&4294967295|c>>>16),c=d+(p^g^u)+f[10]+3200236656&4294967295,d=p+(c<<23&4294967295|c>>>9),c=u+(d^p^g)+f[13]+681279174&4294967295,u=d+(c<<4&4294967295|c>>>28),c=g+(u^d^p)+f[0]+3936430074&4294967295,g=u+(c<<11&4294967295|c>>>21),c=p+(g^u^d)+f[3]+3572445317&4294967295,p=g+(c<<16&4294967295|c>>>16),c=d+(p^g^u)+f[6]+76029189&4294967295,d=p+(c<<23&4294967295|c>>>9),c=u+(d^p^g)+f[9]+3654602809&4294967295,u=d+(c<<4&4294967295|c>>>28),c=g+(u^d^p)+f[12]+3873151461&4294967295,g=u+(c<<11&4294967295|c>>>21),c=p+(g^u^d)+f[15]+530742520&4294967295,p=g+(c<<16&4294967295|c>>>16),c=d+(p^g^u)+f[2]+3299628645&4294967295,d=p+(c<<23&4294967295|c>>>9),c=u+(p^(d|~g))+f[0]+4096336452&4294967295,u=d+(c<<6&4294967295|c>>>26),c=g+(d^(u|~p))+f[7]+1126891415&4294967295,g=u+(c<<10&4294967295|c>>>22),c=p+(u^(g|~d))+f[14]+2878612391&4294967295,p=g+(c<<15&4294967295|c>>>17),c=d+(g^(p|~u))+f[5]+4237533241&4294967295,d=p+(c<<21&4294967295|c>>>11),c=u+(p^(d|~g))+f[12]+1700485571&4294967295,u=d+(c<<6&4294967295|c>>>26),c=g+(d^(u|~p))+f[3]+2399980690&4294967295,g=u+(c<<10&4294967295|c>>>22),c=p+(u^(g|~d))+f[10]+4293915773&4294967295,p=g+(c<<15&4294967295|c>>>17),c=d+(g^(p|~u))+f[1]+2240044497&4294967295,d=p+(c<<21&4294967295|c>>>11),c=u+(p^(d|~g))+f[8]+1873313359&4294967295,u=d+(c<<6&4294967295|c>>>26),c=g+(d^(u|~p))+f[15]+4264355552&4294967295,g=u+(c<<10&4294967295|c>>>22),c=p+(u^(g|~d))+f[6]+2734768916&4294967295,p=g+(c<<15&4294967295|c>>>17),c=d+(g^(p|~u))+f[13]+1309151649&4294967295,d=p+(c<<21&4294967295|c>>>11),c=u+(p^(d|~g))+f[4]+4149444226&4294967295,u=d+(c<<6&4294967295|c>>>26),c=g+(d^(u|~p))+f[11]+3174756917&4294967295,g=u+(c<<10&4294967295|c>>>22),c=p+(u^(g|~d))+f[2]+718787259&4294967295,p=g+(c<<15&4294967295|c>>>17),c=d+(g^(p|~u))+f[9]+3951481745&4294967295,m.g[0]=m.g[0]+u&4294967295,m.g[1]=m.g[1]+(p+(c<<21&4294967295|c>>>11))&4294967295,m.g[2]=m.g[2]+p&4294967295,m.g[3]=m.g[3]+g&4294967295}r.prototype.u=function(m,u){u===void 0&&(u=m.length);for(var d=u-this.blockSize,f=this.B,p=this.h,g=0;g<u;){if(p==0)for(;g<=d;)i(this,m,g),g+=this.blockSize;if(typeof m=="string"){for(;g<u;)if(f[p++]=m.charCodeAt(g++),p==this.blockSize){i(this,f),p=0;break}}else for(;g<u;)if(f[p++]=m[g++],p==this.blockSize){i(this,f),p=0;break}}this.h=p,this.o+=u},r.prototype.v=function(){var m=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);m[0]=128;for(var u=1;u<m.length-8;++u)m[u]=0;var d=8*this.o;for(u=m.length-8;u<m.length;++u)m[u]=d&255,d/=256;for(this.u(m),m=Array(16),u=d=0;4>u;++u)for(var f=0;32>f;f+=8)m[d++]=this.g[u]>>>f&255;return m};function s(m,u){var d=a;return Object.prototype.hasOwnProperty.call(d,m)?d[m]:d[m]=u(m)}function o(m,u){this.h=u;for(var d=[],f=!0,p=m.length-1;0<=p;p--){var g=m[p]|0;f&&g==u||(d[p]=g,f=!1)}this.g=d}var a={};function l(m){return-128<=m&&128>m?s(m,function(u){return new o([u|0],0>u?-1:0)}):new o([m|0],0>m?-1:0)}function h(m){if(isNaN(m)||!isFinite(m))return _;if(0>m)return P(h(-m));for(var u=[],d=1,f=0;m>=d;f++)u[f]=m/d|0,d*=4294967296;return new o(u,0)}function y(m,u){if(m.length==0)throw Error("number format error: empty string");if(u=u||10,2>u||36<u)throw Error("radix out of range: "+u);if(m.charAt(0)=="-")return P(y(m.substring(1),u));if(0<=m.indexOf("-"))throw Error('number format error: interior "-" character');for(var d=h(Math.pow(u,8)),f=_,p=0;p<m.length;p+=8){var g=Math.min(8,m.length-p),c=parseInt(m.substring(p,p+g),u);8>g?(g=h(Math.pow(u,g)),f=f.j(g).add(h(c))):(f=f.j(d),f=f.add(h(c)))}return f}var _=l(0),v=l(1),E=l(16777216);n=o.prototype,n.m=function(){if(b(this))return-P(this).m();for(var m=0,u=1,d=0;d<this.g.length;d++){var f=this.i(d);m+=(0<=f?f:4294967296+f)*u,u*=4294967296}return m},n.toString=function(m){if(m=m||10,2>m||36<m)throw Error("radix out of range: "+m);if(w(this))return"0";if(b(this))return"-"+P(this).toString(m);for(var u=h(Math.pow(m,6)),d=this,f="";;){var p=L(d,u).g;d=V(d,p.j(u));var g=((0<d.g.length?d.g[0]:d.h)>>>0).toString(m);if(d=p,w(d))return g+f;for(;6>g.length;)g="0"+g;f=g+f}},n.i=function(m){return 0>m?0:m<this.g.length?this.g[m]:this.h};function w(m){if(m.h!=0)return!1;for(var u=0;u<m.g.length;u++)if(m.g[u]!=0)return!1;return!0}function b(m){return m.h==-1}n.l=function(m){return m=V(this,m),b(m)?-1:w(m)?0:1};function P(m){for(var u=m.g.length,d=[],f=0;f<u;f++)d[f]=~m.g[f];return new o(d,~m.h).add(v)}n.abs=function(){return b(this)?P(this):this},n.add=function(m){for(var u=Math.max(this.g.length,m.g.length),d=[],f=0,p=0;p<=u;p++){var g=f+(this.i(p)&65535)+(m.i(p)&65535),c=(g>>>16)+(this.i(p)>>>16)+(m.i(p)>>>16);f=c>>>16,g&=65535,c&=65535,d[p]=c<<16|g}return new o(d,d[d.length-1]&-2147483648?-1:0)};function V(m,u){return m.add(P(u))}n.j=function(m){if(w(this)||w(m))return _;if(b(this))return b(m)?P(this).j(P(m)):P(P(this).j(m));if(b(m))return P(this.j(P(m)));if(0>this.l(E)&&0>m.l(E))return h(this.m()*m.m());for(var u=this.g.length+m.g.length,d=[],f=0;f<2*u;f++)d[f]=0;for(f=0;f<this.g.length;f++)for(var p=0;p<m.g.length;p++){var g=this.i(f)>>>16,c=this.i(f)&65535,ae=m.i(p)>>>16,et=m.i(p)&65535;d[2*f+2*p]+=c*et,O(d,2*f+2*p),d[2*f+2*p+1]+=g*et,O(d,2*f+2*p+1),d[2*f+2*p+1]+=c*ae,O(d,2*f+2*p+1),d[2*f+2*p+2]+=g*ae,O(d,2*f+2*p+2)}for(f=0;f<u;f++)d[f]=d[2*f+1]<<16|d[2*f];for(f=u;f<2*u;f++)d[f]=0;return new o(d,0)};function O(m,u){for(;(m[u]&65535)!=m[u];)m[u+1]+=m[u]>>>16,m[u]&=65535,u++}function F(m,u){this.g=m,this.h=u}function L(m,u){if(w(u))throw Error("division by zero");if(w(m))return new F(_,_);if(b(m))return u=L(P(m),u),new F(P(u.g),P(u.h));if(b(u))return u=L(m,P(u)),new F(P(u.g),u.h);if(30<m.g.length){if(b(m)||b(u))throw Error("slowDivide_ only works with positive integers.");for(var d=v,f=u;0>=f.l(m);)d=me(d),f=me(f);var p=U(d,1),g=U(f,1);for(f=U(f,2),d=U(d,2);!w(f);){var c=g.add(f);0>=c.l(m)&&(p=p.add(d),g=c),f=U(f,1),d=U(d,1)}return u=V(m,p.j(u)),new F(p,u)}for(p=_;0<=m.l(u);){for(d=Math.max(1,Math.floor(m.m()/u.m())),f=Math.ceil(Math.log(d)/Math.LN2),f=48>=f?1:Math.pow(2,f-48),g=h(d),c=g.j(u);b(c)||0<c.l(m);)d-=f,g=h(d),c=g.j(u);w(g)&&(g=v),p=p.add(g),m=V(m,c)}return new F(p,m)}n.A=function(m){return L(this,m).h},n.and=function(m){for(var u=Math.max(this.g.length,m.g.length),d=[],f=0;f<u;f++)d[f]=this.i(f)&m.i(f);return new o(d,this.h&m.h)},n.or=function(m){for(var u=Math.max(this.g.length,m.g.length),d=[],f=0;f<u;f++)d[f]=this.i(f)|m.i(f);return new o(d,this.h|m.h)},n.xor=function(m){for(var u=Math.max(this.g.length,m.g.length),d=[],f=0;f<u;f++)d[f]=this.i(f)^m.i(f);return new o(d,this.h^m.h)};function me(m){for(var u=m.g.length+1,d=[],f=0;f<u;f++)d[f]=m.i(f)<<1|m.i(f-1)>>>31;return new o(d,m.h)}function U(m,u){var d=u>>5;u%=32;for(var f=m.g.length-d,p=[],g=0;g<f;g++)p[g]=0<u?m.i(g+d)>>>u|m.i(g+d+1)<<32-u:m.i(g+d);return new o(p,m.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,yl=Is.Md5=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=h,o.fromString=y,Zn=Is.Integer=o}).apply(typeof As<"u"?As:typeof self<"u"?self:typeof window<"u"?window:{});var Ps="4.7.14";var H=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};H.UNAUTHENTICATED=new H(null),H.GOOGLE_CREDENTIALS=new H("google-credentials-uid"),H.FIRST_PARTY=new H("first-party-uid"),H.MOCK_USER=new H("mock-user");var Ye="11.7.3";var We=new je("@firebase/firestore");function Ut(n,...e){if(We.logLevel<=M.DEBUG){let t=e.map($r);We.debug(`Firestore (${Ye}): ${n}`,...t)}}function qr(n,...e){if(We.logLevel<=M.ERROR){let t=e.map($r);We.error(`Firestore (${Ye}): ${n}`,...t)}}function Qs(n,...e){if(We.logLevel<=M.WARN){let t=e.map($r);We.warn(`Firestore (${Ye}): ${n}`,...t)}}function $r(n){if(typeof n=="string")return n;try{return function(t){return JSON.stringify(t)}(n)}catch{return n}}function j(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,Gs(n,r,t)}function Gs(n,e,t){let r=`FIRESTORE (${Ye}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw qr(r),new Error(r)}function Ie(n,e,t,r){let i="Unexpected state";typeof t=="string"?i=t:r=t,n||Gs(e,i,r)}function zr(n,e){return n}var Ds="ok",_l="cancelled",ht="unknown",D="invalid-argument",vl="deadline-exceeded",wl="not-found";var El="permission-denied",nr="unauthenticated",bl="resource-exhausted",Qe="failed-precondition",Tl="aborted",Sl="out-of-range",Ys="unimplemented",Al="internal",Il="unavailable";var A=class extends pe{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Kt=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},rr=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(H.UNAUTHENTICATED))}shutdown(){}},ir=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},sr=class{constructor(e){this.auth=null,e.onInit(t=>{this.auth=t})}getToken(){return this.auth?this.auth.getToken().then(e=>e?(Ie(typeof e.accessToken=="string",42297,{t:e}),new Kt(e.accessToken,new H(this.auth.getUid()))):null):Promise.resolve(null)}invalidateToken(){}start(e,t){}shutdown(){}},or=class{constructor(e,t,r){this.i=e,this.o=t,this.u=r,this.type="FirstParty",this.user=H.FIRST_PARTY,this.l=new Map}h(){return this.u?this.u():null}get headers(){this.l.set("X-Goog-AuthUser",this.i);let e=this.h();return e&&this.l.set("Authorization",e),this.o&&this.l.set("X-Goog-Iam-Authorization-Token",this.o),this.l}},ar=class{constructor(e,t,r){this.i=e,this.o=t,this.u=r}getToken(){return Promise.resolve(new or(this.i,this.o,this.u))}start(e,t){e.enqueueRetryable(()=>t(H.FIRST_PARTY))}shutdown(){}invalidateToken(){}},Ht=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},lr=class{constructor(e,t){this.m=t,this.appCheck=null,this.T=null,ws(e)&&e.settings.appCheckToken&&(this.T=e.settings.appCheckToken),t.onInit(r=>{this.appCheck=r})}getToken(){return this.T?Promise.resolve(new Ht(this.T)):this.appCheck?this.appCheck.getToken().then(e=>e?(Ie(typeof e.token=="string",3470,{tokenResult:e}),new Ht(e.token)):null):Promise.resolve(null)}invalidateToken(){}start(e,t){}shutdown(){}};var ur=class{constructor(e,t,r,i,s,o,a,l,h,y){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=h,this.isUsingEmulator=y}},cr="(default)",Wt=class n{constructor(e,t){this.projectId=e,this.database=t||cr}static empty(){return new n("","")}get isDefaultDatabase(){return this.database===cr}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};function B(n,e){return n<e?-1:n>e?1:0}function hr(n,e){let t=0;for(;t<n.length&&t<e.length;){let r=n.codePointAt(t),i=e.codePointAt(t);if(r!==i){if(r<128&&i<128)return B(r,i);{let s=new TextEncoder,o=Pl(s.encode(Cs(n,t)),s.encode(Cs(e,t)));return o!==0?o:B(r,i)}}t+=r>65535?2:1}return B(n.length,e.length)}function Cs(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function Pl(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return B(n[t],e[t]);return B(n.length,e.length)}function Dl(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}var Rs="__name__",Qt=class n{constructor(e,t,r){t===void 0?t=0:t>e.length&&j(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&j(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let r=Math.min(e.length,t.length);for(let i=0;i<r;i++){let s=n.compareSegments(e.get(i),t.get(i));if(s!==0)return s}return B(e.length,t.length)}static compareSegments(e,t){let r=n.isNumericId(e),i=n.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?n.extractNumericId(e).compare(n.extractNumericId(t)):hr(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Zn.fromString(e.substring(4,e.length-2))}},G=class n extends Qt{construct(e,t,r){return new n(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let r of e){if(r.indexOf("//")>=0)throw new A(D,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new n(t)}static emptyPath(){return new n([])}},Cl=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Ae=class n extends Qt{construct(e,t,r){return new n(e,t,r)}static isValidIdentifier(e){return Cl.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Rs}static keyField(){return new n([Rs])}static fromServerFormat(e){let t=[],r="",i=0,s=()=>{if(r.length===0)throw new A(D,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""},o=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new A(D,"Path has trailing escape character: "+e);let l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new A(D,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new A(D,"Unterminated ` in path: "+e);return new n(t)}static emptyPath(){return new n([])}};var ie=class n{constructor(e){this.path=e}static fromPath(e){return new n(G.fromString(e))}static fromName(e){return new n(G.fromString(e).popFirst(5))}static empty(){return new n(G.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&G.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return G.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new G(e.slice()))}};function Rl(n,e,t){if(!t)throw new A(D,`Function ${n}() cannot be called with an empty ${e}.`)}function Ns(n){if(ie.isDocumentKey(n))throw new A(D,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function un(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":j(12329,{type:typeof n})}function Js(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new A(D,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=un(n);throw new A(D,`Expected type '${e.name}', but it was: ${t}`)}}return n}function Xs(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var zt=null;function Nl(){return zt===null?zt=function(){return 268435456+Math.round(2147483648*Math.random())}():zt++,"0x"+zt.toString(16)}function kl(n){return n==null}function Gt(n){return n===0&&1/n==-1/0}var er="RestConnection",Ol={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},dr=class{get A(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;let t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.P=t+"://"+e.host,this.R=`projects/${r}/databases/${i}`,this.I=this.databaseId.database===cr?`project_id=${r}`:`project_id=${r}&database_id=${i}`}V(e,t,r,i,s){let o=Nl(),a=this.p(e,t.toUriEncodedString());Ut(er,`Sending RPC '${e}' ${o}:`,a,r);let l={"google-cloud-resource-prefix":this.R,"x-goog-request-params":this.I};this.F(l,i,s);let{host:h}=new URL(a),y=xt(h);return this.v(e,a,l,r,y).then(_=>(Ut(er,`Received RPC '${e}' ${o}: `,_),_),_=>{throw Qs(er,`RPC '${e}' ${o} failed with error: `,_,"url: ",a,"request:",r),_})}D(e,t,r,i,s,o){return this.V(e,t,r,i,s)}F(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ye}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}p(e,t){let r=Ol[e];return`${this.P}/v1/${t}:${r}`}terminate(){}};var ks,R;function Os(n){if(n===void 0)return qr("RPC_ERROR","HTTP error has no status"),ht;switch(n){case 200:return Ds;case 400:return Qe;case 401:return nr;case 403:return El;case 404:return wl;case 409:return Tl;case 416:return Sl;case 429:return bl;case 499:return _l;case 500:return ht;case 501:return Ys;case 503:return Il;case 504:return vl;default:return n>=200&&n<300?Ds:n>=400&&n<500?Qe:n>=500&&n<600?Al:ht}}(R=ks||(ks={}))[R.OK=0]="OK",R[R.CANCELLED=1]="CANCELLED",R[R.UNKNOWN=2]="UNKNOWN",R[R.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",R[R.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",R[R.NOT_FOUND=5]="NOT_FOUND",R[R.ALREADY_EXISTS=6]="ALREADY_EXISTS",R[R.PERMISSION_DENIED=7]="PERMISSION_DENIED",R[R.UNAUTHENTICATED=16]="UNAUTHENTICATED",R[R.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",R[R.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",R[R.ABORTED=10]="ABORTED",R[R.OUT_OF_RANGE=11]="OUT_OF_RANGE",R[R.UNIMPLEMENTED=12]="UNIMPLEMENTED",R[R.INTERNAL=13]="INTERNAL",R[R.UNAVAILABLE=14]="UNAVAILABLE",R[R.DATA_LOSS=15]="DATA_LOSS";var fr=class extends dr{C(e,t){throw new Error("Not supported by FetchConnection")}v(e,t,r,i,s){return q(this,null,function*(){var o;let a=JSON.stringify(i),l;try{let h={method:"POST",headers:r,body:a};s&&(h.credentials="include"),l=yield fetch(t,h)}catch(h){let y=h;throw new A(Os(y.status),"Request failed with error: "+y.statusText)}if(!l.ok){let h=yield l.json();Array.isArray(h)&&(h=h[0]);let y=(o=h?.error)===null||o===void 0?void 0:o.message;throw new A(Os(l.status),`Request failed with error: ${y??l.statusText}`)}return l.json()})}};function Ms(n){let e=0;for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function cn(n,e){for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}var mr=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var Pe=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new mr("Invalid base64 string: "+s):s}}(e);return new n(t)}static fromUint8Array(e){let t=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){let r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return B(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};Pe.EMPTY_BYTE_STRING=new Pe("");var Ml=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ke(n){if(Ie(!!n,39018),typeof n=="string"){let e=0,t=Ml.exec(n);if(Ie(!!t,46558,{timestamp:n}),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:$(n.seconds),nanos:$(n.nanos)}}function $(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function mt(n){return typeof n=="string"?Pe.fromBase64String(n):Pe.fromUint8Array(n)}var Vs=-62135596800,Fs=1e6,re=class n{static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*Fs);return new n(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new A(D,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new A(D,"Timestamp nanoseconds out of range: "+t);if(e<Vs)throw new A(D,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new A(D,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Fs}_compareTo(e){return this.seconds===e.seconds?B(this.nanoseconds,e.nanoseconds):B(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds-Vs;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};function Zs(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function eo(n){let e=n.mapValue.fields.__previous_value__;return Zs(e)?eo(e):e}function pt(n){let e=ke(n.mapValue.fields.__local_write_time__.timestampValue);return new re(e.seconds,e.nanos)}var to="__type__",no="__max__",jt={fields:{__type__:{stringValue:no}}},ro="__vector__",Yt="value";function Oe(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Zs(n)?4:function(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===no}(n)?9007199254740991:function(t){var r,i;return((i=(((r=t?.mapValue)===null||r===void 0?void 0:r.fields)||{})[to])===null||i===void 0?void 0:i.stringValue)===ro}(n)?10:11:j(28295,{value:n})}function Jt(n,e){if(n===e)return!0;let t=Oe(n);if(t!==Oe(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return pt(n).isEqual(pt(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;let o=ke(i.timestampValue),a=ke(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,s){return mt(i.bytesValue).isEqual(mt(s.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,s){return $(i.geoPointValue.latitude)===$(s.geoPointValue.latitude)&&$(i.geoPointValue.longitude)===$(s.geoPointValue.longitude)}(n,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return $(i.integerValue)===$(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){let o=$(i.doubleValue),a=$(s.doubleValue);return o===a?Gt(o)===Gt(a):isNaN(o)&&isNaN(a)}return!1}(n,e);case 9:return Dl(n.arrayValue.values||[],e.arrayValue.values||[],Jt);case 10:case 11:return function(i,s){let o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(Ms(o)!==Ms(a))return!1;for(let l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Jt(o[l],a[l])))return!1;return!0}(n,e);default:return j(52216,{left:n})}}function gt(n,e){return(n.values||[]).find(t=>Jt(t,e))!==void 0}function Xt(n,e){if(n===e)return 0;let t=Oe(n),r=Oe(e);if(t!==r)return B(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return B(n.booleanValue,e.booleanValue);case 2:return function(s,o){let a=$(s.integerValue||s.doubleValue),l=$(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(n,e);case 3:return Ls(n.timestampValue,e.timestampValue);case 4:return Ls(pt(n),pt(e));case 5:return hr(n.stringValue,e.stringValue);case 6:return function(s,o){let a=mt(s),l=mt(o);return a.compareTo(l)}(n.bytesValue,e.bytesValue);case 7:return function(s,o){let a=s.split("/"),l=o.split("/");for(let h=0;h<a.length&&h<l.length;h++){let y=B(a[h],l[h]);if(y!==0)return y}return B(a.length,l.length)}(n.referenceValue,e.referenceValue);case 8:return function(s,o){let a=B($(s.latitude),$(o.latitude));return a!==0?a:B($(s.longitude),$(o.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return xs(n.arrayValue,e.arrayValue);case 10:return function(s,o){var a,l,h,y;let _=s.fields||{},v=o.fields||{},E=(a=_[Yt])===null||a===void 0?void 0:a.arrayValue,w=(l=v[Yt])===null||l===void 0?void 0:l.arrayValue,b=B(((h=E?.values)===null||h===void 0?void 0:h.length)||0,((y=w?.values)===null||y===void 0?void 0:y.length)||0);return b!==0?b:xs(E,w)}(n.mapValue,e.mapValue);case 11:return function(s,o){if(s===jt&&o===jt)return 0;if(s===jt)return 1;if(o===jt)return-1;let a=s.fields||{},l=Object.keys(a),h=o.fields||{},y=Object.keys(h);l.sort(),y.sort();for(let _=0;_<l.length&&_<y.length;++_){let v=hr(l[_],y[_]);if(v!==0)return v;let E=Xt(a[l[_]],h[y[_]]);if(E!==0)return E}return B(l.length,y.length)}(n.mapValue,e.mapValue);default:throw j(23264,{S:t})}}function Ls(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return B(n,e);let t=ke(n),r=ke(e),i=B(t.seconds,r.seconds);return i!==0?i:B(t.nanos,r.nanos)}function xs(n,e){let t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){let s=Xt(t[i],r[i]);if(s)return s}return B(t.length,r.length)}function Bs(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function io(n){return!!n&&"arrayValue"in n}function qs(n){return!!n&&"nullValue"in n}function $s(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function tr(n){return!!n&&"mapValue"in n}function dt(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){let e={mapValue:{fields:{}}};return cn(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=dt(r)),e}if(n.arrayValue){let e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=dt(n.arrayValue.values[t]);return e}return Object.assign({},n)}var Zt=class{constructor(e,t){this.position=e,this.inclusive=t}};var en=class{},se=class n extends en{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new pr(e,t,r):t==="array-contains"?new _r(e,r):t==="in"?new vr(e,r):t==="not-in"?new wr(e,r):t==="array-contains-any"?new Er(e,r):new n(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new gr(e,r):new yr(e,r)}matches(e){let t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Xt(t,this.value)):t!==null&&Oe(this.value)===Oe(t)&&this.matchesComparison(Xt(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return j(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},yt=class n extends en{constructor(e,t){super(),this.filters=e,this.op=t,this.N=null}static create(e,t){return new n(e,t)}matches(e){return function(r){return r.op==="and"}(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.N!==null||(this.N=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.N}getFilters(){return Object.assign([],this.filters)}};var pr=class extends se{constructor(e,t,r){super(e,t,r),this.key=ie.fromName(r.referenceValue)}matches(e){let t=ie.comparator(e.key,this.key);return this.matchesComparison(t)}},gr=class extends se{constructor(e,t){super(e,"in",t),this.keys=so("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}},yr=class extends se{constructor(e,t){super(e,"not-in",t),this.keys=so("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}};function so(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>ie.fromName(r.referenceValue))}var _r=class extends se{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return io(t)&&gt(t.arrayValue,this.value)}},vr=class extends se{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return t!==null&&gt(this.value.arrayValue,t)}},wr=class extends se{constructor(e,t){super(e,"not-in",t)}matches(e){if(gt(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!gt(this.value.arrayValue,t)}},Er=class extends se{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!io(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>gt(this.value.arrayValue,r))}};var _t=class{constructor(e,t="asc"){this.field=e,this.dir=t}};var Q=class n{static fromTimestamp(e){return new n(e)}static min(){return new n(new re(0,0))}static max(){return new n(new re(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var br=class n{constructor(e,t){this.comparator=e,this.root=t||de.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,de.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,de.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){let e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ke(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ke(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ke(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ke(this.root,e,this.comparator,!0)}},Ke=class{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?r(e.key,t):1,t&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},de=class n{constructor(e,t,r,i,s){this.key=e,this.value=t,this.color=r??n.RED,this.left=i??n.EMPTY,this.right=s??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,s){return new n(e??this.key,t??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this,s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,t,r),null):s===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return n.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw j(43730,{key:this.key,value:this.value});if(this.right.isRed())throw j(14113,{key:this.key,value:this.value});let e=this.left.check();if(e!==this.right.check())throw j(27949);return e+(this.isRed()?0:1)}};de.EMPTY=null,de.RED=!0,de.BLACK=!1;de.EMPTY=new class{constructor(){this.size=0}get key(){throw j(57766)}get value(){throw j(16141)}get color(){throw j(16727)}get left(){throw j(29726)}get right(){throw j(36894)}copy(e,t,r,i,s){return this}insert(e,t,r){return new de(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var Tr=class n{constructor(e){this.comparator=e,this.data=new br(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new tn(this.data.getIterator())}getIteratorFrom(e){return new tn(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){let i=t.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},tn=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var Se=class n{constructor(e){this.value=e}static empty(){return new n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!tr(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=dt(t)}setAll(e){let t=Ae.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!t.isImmediateParentOf(a)){let l=this.getFieldsMap(t);this.applyChanges(l,r,i),r={},i=[],t=a.popLast()}o?r[a.lastSegment()]=dt(o):i.push(a.lastSegment())});let s=this.getFieldsMap(t);this.applyChanges(s,r,i)}delete(e){let t=this.field(e.popLast());tr(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Jt(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];tr(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){cn(t,(i,s)=>e[i]=s);for(let i of r)delete e[i]}clone(){return new n(dt(this.value))}};var Sr=class n{constructor(e,t,r,i,s,o,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new n(e,0,Q.min(),Q.min(),Q.min(),Se.empty(),0)}static newFoundDocument(e,t,r,i){return new n(e,1,t,Q.min(),r,i,0)}static newNoDocument(e,t){return new n(e,2,t,Q.min(),Q.min(),Se.empty(),0)}static newUnknownDocument(e,t){return new n(e,3,t,Q.min(),Q.min(),Se.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Q.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Se.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Se.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Q.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Ar=class{constructor(e,t=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.O=null}};function zs(n,e=null,t=[],r=[],i=null,s=null,o=null){return new Ar(n,e,t,r,i,s,o)}var nn=class{constructor(e,t=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.q=null,this.B=null,this.$=null,this.startAt,this.endAt}};function Vl(n){return n.collectionGroup!==null}function Fl(n){let e=zr(n);if(e.q===null){e.q=[];let t=new Set;for(let s of e.explicitOrderBy)e.q.push(s),t.add(s.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Tr(Ae.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(h=>{h.isInequality()&&(a=a.add(h.field))})}),a})(e).forEach(s=>{t.has(s.canonicalString())||s.isKeyField()||e.q.push(new _t(s,r))}),t.has(Ae.keyField().canonicalString())||e.q.push(new _t(Ae.keyField(),r))}return e.q}function Ll(n){let e=zr(n);return e.B||(e.B=xl(e,Fl(n))),e.B}function xl(n,e){if(n.limitType==="F")return zs(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{let s=i.dir==="desc"?"asc":"desc";return new _t(i.field,s)});let t=n.endAt?new Zt(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Zt(n.startAt.position,n.startAt.inclusive):null;return zs(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function Ir(n,e){let t=n.filters.concat([e]);return new nn(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function oo(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Gt(e)?"-0":e}}function Bl(n,e){return function(r){return typeof r=="number"&&Number.isInteger(r)&&!Gt(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}(e)?function(r){return{integerValue:""+r}}(e):oo(n,e)}var ql={asc:"ASCENDING",desc:"DESCENDING"},$l={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},zl={and:"AND",or:"OR"},Pr=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function js(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function jl(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function Us(n){return Ie(!!n,49232),Q.fromTimestamp(function(t){let r=ke(t);return new re(r.seconds,r.nanos)}(n))}function ao(n,e){return Dr(n,e).canonicalString()}function Dr(n,e){let t=function(i){return new G(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function Ul(n,e){let t=function(i){let s=G.fromString(i);return Ie(uo(s),10190,{key:s.toString()}),s}(e);if(t.get(1)!==n.databaseId.projectId)throw new A(D,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new A(D,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ie(function(i){return Ie(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}(t))}function Kl(n,e){let t={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=function(h,y){return ao(h.databaseId,y)}(n,i);let s=function(h){if(h.length!==0)return lo(yt.create(h,"and"))}(e.filters);s&&(t.structuredQuery.where=s);let o=function(h){if(h.length!==0)return h.map(y=>function(v){return{field:Ue(v.field),direction:Hl(v.dir)}}(y))}(e.orderBy);o&&(t.structuredQuery.orderBy=o);let a=function(h,y){return h.useProto3Json||kl(y)?y:{value:y}}(n,e.limit);return a!==null&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt=function(h){return{before:h.inclusive,values:h.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(h){return{before:!h.inclusive,values:h.position}}(e.endAt)),{M:t,parent:i}}function Hl(n){return ql[n]}function Wl(n){return $l[n]}function Ql(n){return zl[n]}function Ue(n){return{fieldPath:n.canonicalString()}}function lo(n){return n instanceof se?function(t){if(t.op==="=="){if($s(t.value))return{unaryFilter:{field:Ue(t.field),op:"IS_NAN"}};if(qs(t.value))return{unaryFilter:{field:Ue(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if($s(t.value))return{unaryFilter:{field:Ue(t.field),op:"IS_NOT_NAN"}};if(qs(t.value))return{unaryFilter:{field:Ue(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ue(t.field),op:Wl(t.op),value:t.value}}}(n):n instanceof yt?function(t){let r=t.getFilters().map(i=>lo(i));return r.length===1?r[0]:{compositeFilter:{op:Ql(t.op),filters:r}}}(n):j(54877,{filter:n})}function uo(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}function jr(n){return new Pr(n,!0)}var Cr=class{},Rr=class extends Cr{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.et=!1}rt(){if(this.et)throw new A(Qe,"The client has already been terminated.")}V(e,t,r,i){return this.rt(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.V(e,Dr(t,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===nr&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new A(ht,s.toString())})}D(e,t,r,i,s){return this.rt(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.D(e,Dr(t,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===nr&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new A(ht,o.toString())})}terminate(){this.et=!0,this.connection.terminate()}};function Gl(n,e){return q(this,null,function*(){let t=zr(n),{M:r,parent:i}=Kl(t.serializer,Ll(e));return(yield t.D("RunQuery",t.serializer.databaseId,i,{structuredQuery:r.structuredQuery})).filter(s=>!!s.document).map(s=>function(a,l,h){let y=Ul(a,l.name),_=Us(l.updateTime),v=l.createTime?Us(l.createTime):Q.min(),E=new Se({mapValue:{fields:l.fields}}),w=Sr.newFoundDocument(y,_,v,E);return h&&w.setHasCommittedMutations(),h?w.setHasCommittedMutations():w}(t.serializer,s.document,void 0))})}var co="ComponentProvider",ft=new Map;function Yl(n){if(n._terminated)throw new A(Qe,"The client has already been terminated.");if(!ft.has(n)){Ut(co,"Initializing Datastore");let e=function(s){return new fr(s)}(function(s,o,a,l){return new ur(s,o,a,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,Xs(l.experimentalLongPollingOptions),l.useFetchStreams,l.isUsingEmulator)}(n._databaseId,n.app.options.appId||"",n._persistenceKey,n._freezeSettings())),t=jr(n._databaseId),r=function(s,o,a,l){return new Rr(s,o,a,l)}(n._authCredentials,n._appCheckCredentials,e,t);ft.set(n,r)}return ft.get(n)}var Jl=1048576,ho="firestore.googleapis.com",Ks=!0;var rn=class{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new A(D,"Can't provide ssl option if host option is not set");this.host=ho,this.ssl=Ks}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:Ks;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Jl)throw new A(D,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(s,o,a,l){if(o===!0&&l===!0)throw new A(D,`${s} and ${a} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Xs((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new A(D,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new A(D,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new A(D,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},vt=class{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new rn({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new A(Qe,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new A(Qe,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new rn(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new rr;switch(r.type){case"firstParty":return new ar(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new A(D,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,Ln("Firestore",this._settings.isUsingEmulator),this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return q(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){let r=ft.get(t);r&&(Ut(co,"Removing Datastore"),ft.delete(t),r.terminate())}(this),Promise.resolve()}};function fo(n,e){let t=typeof n=="object"?n:bs(),r=typeof n=="string"?n:e||"(default)",i=vs(t,"firestore/lite").getImmediate({identifier:r});if(!i._initialized){let s=ns("firestore");s&&Xl(i,...s)}return i}function Xl(n,e,t,r={}){var i;n=Js(n,vt);let s=xt(e),o=n._getSettings(),a=Object.assign(Object.assign({},o),{emulatorOptions:n._getEmulatorOptions()}),l=`${e}:${t}`;o.host!==ho&&o.host!==l&&Qs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");let h=Object.assign(Object.assign({},o),{host:l,ssl:s,emulatorOptions:r});if(!ze(h,a)&&(n._setSettings(h),s&&(rs(`https://${l}`),Ln("Firestore",!0)),r.mockUserToken)){let y,_;if(typeof r.mockUserToken=="string")y=r.mockUserToken,_=H.MOCK_USER;else{y=is(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);let v=r.mockUserToken.sub||r.mockUserToken.user_id;if(!v)throw new A(D,"mockUserToken must contain 'sub' or 'user_id' field!");_=new H(v)}n._authCredentials=new ir(new Kt(y,_))}}var Ge=class n{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},_e=class n{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new He(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}},He=class n extends Ge{constructor(e,t,r){super(e,t,function(s){return new nn(s)}(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new _e(this.firestore,null,new ie(e))}withConverter(e){return new n(this.firestore,e,this._path)}};function mo(n,e,...t){if(n=lt(n),Rl("collection","path",e),n instanceof vt){let r=G.fromString(e,...t);return Ns(r),new He(n,null,r)}{if(!(n instanceof _e||n instanceof He))throw new A(D,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(G.fromString(e,...t));return Ns(r),new He(n.firestore,null,r)}}var wt=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(Pe.fromBase64String(e))}catch(t){throw new A(D,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n(Pe.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var sn=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new A(D,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ae(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var on=class{constructor(e){this._methodName=e}};var Et=class{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new A(D,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new A(D,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return B(this._lat,e._lat)||B(this._long,e._long)}};var bt=class{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}};var Zl=/^__.*__$/;function po(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw j(40011,{it:n})}}var Nr=class n{constructor(e,t,r,i,s,o){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.st(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get it(){return this.settings.it}ot(e){return new n(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ut(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.ot({path:r,_t:!1});return i.ct(e),i}lt(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.ot({path:r,_t:!1});return i.st(),i}ht(e){return this.ot({path:void 0,_t:!0})}dt(e){return Or(e,this.settings.methodName,this.settings.ft||!1,this.path,this.settings.Et)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}st(){if(this.path)for(let e=0;e<this.path.length;e++)this.ct(this.path.get(e))}ct(e){if(e.length===0)throw this.dt("Document fields must not be empty");if(po(this.it)&&Zl.test(e))throw this.dt('Document fields cannot begin and end with "__"')}},kr=class{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||jr(e)}Tt(e,t,r,i=!1){return new Nr({it:e,methodName:t,Et:r,path:Ae.emptyPath(),_t:!1,ft:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function eu(n){let e=n._freezeSettings(),t=jr(n._databaseId);return new kr(n._databaseId,!!e.ignoreUndefinedProperties,t)}function tu(n,e,t,r=!1){return Ur(t,n.Tt(r?4:3,e))}function Ur(n,e){if(go(n=lt(n)))return ru("Unsupported field value:",e,n),nu(n,e);if(n instanceof on)return function(r,i){if(!po(i.it))throw i.dt(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.dt(`${r._methodName}() is not currently supported inside arrays`);let s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings._t&&e.it!==4)throw e.dt("Nested arrays are not supported");return function(r,i){let s=[],o=0;for(let a of r){let l=Ur(a,i.ht(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(n,e)}return function(r,i){if((r=lt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Bl(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let s=re.fromDate(r);return{timestampValue:js(i.serializer,s)}}if(r instanceof re){let s=new re(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:js(i.serializer,s)}}if(r instanceof Et)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof wt)return{bytesValue:jl(i.serializer,r._byteString)};if(r instanceof _e){let s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.dt(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:ao(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof bt)return function(o,a){return{mapValue:{fields:{[to]:{stringValue:ro},[Yt]:{arrayValue:{values:o.toArray().map(h=>{if(typeof h!="number")throw a.dt("VectorValues must only contain numeric values.");return oo(a.serializer,h)})}}}}}}(r,i);throw i.dt(`Unsupported field value: ${un(r)}`)}(n,e)}function nu(n,e){let t={};return function(i){for(let s in i)if(Object.prototype.hasOwnProperty.call(i,s))return!1;return!0}(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):cn(n,(r,i)=>{let s=Ur(i,e.ut(r));s!=null&&(t[r]=s)}),{mapValue:{fields:t}}}function go(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof re||n instanceof Et||n instanceof wt||n instanceof _e||n instanceof on||n instanceof bt)}function ru(n,e,t){if(!go(t)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(t)){let r=un(t);throw r==="an object"?e.dt(n+" a custom object"):e.dt(n+" "+r)}}var iu=new RegExp("[~\\*/\\[\\]]");function su(n,e,t){if(e.search(iu)>=0)throw Or(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new sn(...e.split("."))._internalPath}catch{throw Or(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Or(n,e,t,r,i){let s=r&&!r.isEmpty(),o=i!==void 0,a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new A(D,a+n+l)}var Mr=class{constructor(e,t,r,i,s){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new _e(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new an(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(yo("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},an=class extends Mr{data(){return super.data()}},Vr=class{constructor(e,t){this._docs=t,this.query=e}get docs(){return[...this._docs]}get size(){return this.docs.length}get empty(){return this.docs.length===0}forEach(e,t){this._docs.forEach(e,t)}};function yo(n,e){return typeof e=="string"?su(n,e):e instanceof sn?e._internalPath:e._delegate._internalPath}var Tt=class{},Fr=class extends Tt{};function _o(n,e,...t){let r=[];e instanceof Tt&&r.push(e),r=r.concat(t),function(s){let o=s.filter(l=>l instanceof Lr).length,a=s.filter(l=>l instanceof ln).length;if(o>1||o>0&&a>0)throw new A(D,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(let i of r)n=i._apply(n);return n}var ln=class n extends Fr{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new n(e,t,r)}_apply(e){let t=this._parse(e);return vo(e._query,t),new Ge(e.firestore,e.converter,Ir(e._query,t))}_parse(e){let t=eu(e.firestore);return function(s,o,a,l,h,y,_){let v;if(h.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new A(D,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){Ws(_,y);let w=[];for(let b of _)w.push(Hs(l,s,b));v={arrayValue:{values:w}}}else v=Hs(l,s,_)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||Ws(_,y),v=tu(a,o,_,y==="in"||y==="not-in");return se.create(h,y,v)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}};function Kr(n,e,t){let r=e,i=yo("where",n);return ln._create(i,r,t)}var Lr=class n extends Tt{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new n(e,t)}_parse(e){let t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:yt.create(t,this._getOperator())}_apply(e){let t=this._parse(e);return t.getFilters().length===0?e:(function(i,s){let o=i,a=s.getFlattenedFilters();for(let l of a)vo(o,l),o=Ir(o,l)}(e._query,t),new Ge(e.firestore,e.converter,Ir(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};function Hs(n,e,t){if(typeof(t=lt(t))=="string"){if(t==="")throw new A(D,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Vl(e)&&t.indexOf("/")!==-1)throw new A(D,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);let r=e.path.child(G.fromString(t));if(!ie.isDocumentKey(r))throw new A(D,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Bs(n,new ie(r))}if(t instanceof _e)return Bs(n,t._key);throw new A(D,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${un(t)}.`)}function Ws(n,e){if(!Array.isArray(n)||n.length===0)throw new A(D,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function vo(n,e){let t=function(i,s){for(let o of i)for(let a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new A(D,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new A(D,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}var xr=class{convertValue(e,t="none"){switch(Oe(e)){case 0:return null;case 1:return e.booleanValue;case 2:return $(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(mt(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw j(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let r={};return cn(e,(i,s)=>{r[i]=this.convertValue(s,t)}),r}convertVectorValue(e){var t,r,i;let s=(i=(r=(t=e.fields)===null||t===void 0?void 0:t[Yt].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>$(o.doubleValue));return new bt(s)}convertGeoPoint(e){return new Et($(e.latitude),$(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":let r=eo(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(pt(e));default:return null}}convertTimestamp(e){let t=ke(e);return new re(t.seconds,t.nanos)}convertDocumentKey(e,t){let r=G.fromString(e);Ie(uo(r),9688,{name:e});let i=new Wt(r.get(1),r.get(3)),s=new ie(r.popFirst(5));return i.isEqual(t)||qr(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}};var Br=class extends xr{constructor(e){super(),this.firestore=e}convertBytes(e){return new wt(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new _e(this.firestore,null,t)}};function wo(n){(function(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new A(Ys,"limitToLast() queries require specifying at least one orderBy() clause")})((n=Js(n,Ge))._query);let e=Yl(n.firestore),t=new Br(n.firestore);return Gl(e,n._query).then(r=>{let i=r.map(s=>new an(n.firestore,t,s.key,s,n.converter));return n._query.limitType==="L"&&i.reverse(),new Vr(n,i)})}(function(){(function(t){Ye=t})(`${Es}_lite`),ut(new ge("firestore/lite",(e,{instanceIdentifier:t,options:r})=>{let i=e.getProvider("app").getImmediate(),s=new vt(new sr(e.getProvider("auth-internal")),new lr(i,e.getProvider("app-check-internal")),function(a,l){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new A(D,'"projectId" not provided in firebase.initializeApp.');return new Wt(a.options.projectId,l)}(i,t),i);return r&&s._setSettings(r),s},"PUBLIC").setMultipleInstances(!0)),Te("firestore-lite",Ps,""),Te("firestore-lite",Ps,"esm2017")})();var ou="firebase",au="11.7.3";Te(ou,au,"app");var hn={production:!0,firebaseConfig:{apiKey:"AIzaSyD-ydCF_2TCm--gKpdILm8MdPUs6P7KeWw",authDomain:"suspenceaudio-e9853.firebaseapp.com",projectId:"suspenceaudio-e9853",storageBucket:"suspenceaudio-e9853.firebasestorage.app",messagingSenderId:"443272629187",appId:"1:443272629187:web:8e30e8ae65aaf1a0cb4b76",measurementId:"G-F6L4GW013X"}};var Eo=(()=>{let e=class e{constructor(){this.app=Xn(hn.firebaseConfig),this.db=fo(this.app)}getDateAndTime(){var r=new Date,i=r.getDate()+"/"+(r.getMonth()+1)+"/"+r.getFullYear()+" "+r.getHours()+":"+r.getMinutes()+":"+r.getSeconds();return i}getCurrentDate(){var r=new Date,i=r.getDate()+"/"+(r.getMonth()+1)+"/"+r.getFullYear();return i}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=ue({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();function uu(n,e){n&1&&(W(0,"div",19),Re(1," User Name is required "),te())}function cu(n,e){n&1&&(W(0,"div",19),Re(1," Password is required "),te())}function hu(n,e){n&1&&ne(0,"span",20)}var Hr=(()=>{let e=class e{constructor(r,i,s,o){this.fb=r,this.firbaseService=i,this.router=s,this.route=o,this.isSpinnerShow=!1}ngOnInit(){var r=localStorage.getItem("isLoggedIn");r&&this.router.navigate(["home"]),this.loginForm=this.fb.group({UserName:[null,[Nn.required]],Password:[null,[Nn.required]]})}onSubmit(r){return q(this,null,function*(){debugger;if(this.isSpinnerShow=!0,!r.valid){r.markAllAsTouched(),this.isSpinnerShow=!1;return}var i=mo(this.firbaseService.db,"users");let s=_o(i,Kr("userName","==",r.value.UserName.toLocaleLowerCase()),Kr("password","==",r.value.Password));debugger;var a=(yield wo(s)).docs.map(l=>l.data());a.length>0?(localStorage.setItem("isLoggedIn","true"),localStorage.setItem("loginData",JSON.stringify(a[0])),this.isSpinnerShow=!1,this.router.navigate(["home"]),setTimeout(()=>{location.reload()},1e3)):alert("Invalid Credentials")})}get loginFormControl(){return this.loginForm.controls}};e.\u0275fac=function(i){return new(i||e)(nt($i),nt(Eo),nt(Ki),nt(Ui))},e.\u0275cmp=qe({type:e,selectors:[["app-login"]],decls:29,vars:4,consts:[["id","loginDiv"],["src","assets/Audio.png","alt","Paris"],[2,"margin-top","1%","width","100%","background","#fff","padding","25px"],[1,"form",3,"ngSubmit","formGroup"],["data-mdb-input-init","","data-mdb-input-initialized","true",1,"form-outline","mt-2"],["type","email","id","form2Example1","formControlName","UserName",1,"form-control","active"],["for","form2Example1",1,"form-label",2,"margin-left","0px"],[1,"form-notch"],[1,"form-notch-leading",2,"width","9px"],[1,"form-notch-middle",2,"width","88.8px"],[1,"form-notch-trailing"],["class","text-danger mb-2","style","font-size: 10px",4,"ngIf"],["data-mdb-input-init","","data-mdb-input-initialized","true",1,"form-outline","mt-3"],["type","password","id","form2Example2","formControlName","Password",1,"form-control","active"],["for","form2Example2",1,"form-label",2,"margin-left","0px"],[1,"form-notch-middle",2,"width","64px"],["type","submit",1,"btn","btn-primary","btn-block","mb-4","mt-2"],["class","spinner-border spinner-border-sm","role","status","aria-hidden","true",4,"ngIf"],[1,"visually-hidden"],[1,"text-danger","mb-2",2,"font-size","10px"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm"]],template:function(i,s){i&1&&(W(0,"div",0),ne(1,"img",1),te(),W(2,"div",2)(3,"section")(4,"form",3),Ci("ngSubmit",function(){return s.onSubmit(s.loginForm)}),W(5,"div")(6,"div",4),ne(7,"input",5),W(8,"label",6),Re(9,"User Name"),te(),W(10,"div",7),ne(11,"div",8)(12,"div",9)(13,"div",10),te()(),Mt(14,uu,2,0,"div",11),W(15,"div",12),ne(16,"input",13),W(17,"label",14),Re(18,"Password"),te(),W(19,"div",7),ne(20,"div",8)(21,"div",15)(22,"div",10),te()(),Mt(23,cu,2,0,"div",11),W(24,"button",16),Re(25," Sign in "),Mt(26,hu,1,0,"span",17),W(27,"span",18),Re(28,"Loading..."),te()()()()()()),i&2&&(tt(4),rt("formGroup",s.loginForm),tt(10),rt("ngIf",s.loginFormControl.UserName.touched&&(s.loginFormControl.UserName.errors==null?null:s.loginFormControl.UserName.errors.required)),tt(9),rt("ngIf",s.loginFormControl.Password.touched&&(s.loginFormControl.Password.errors==null?null:s.loginFormControl.Password.errors.required)),tt(3),rt("ngIf",s.isSpinnerShow))},dependencies:[Ni,xi,Vi,Fi,Li,Bi,qi]});let n=e;return n})();var bo=(()=>{let e=class e{constructor(){this.title="mdb-angular-ui-kit-free"}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=qe({type:e,selectors:[["FooterOnlyLayoutComponent"]],decls:2,vars:0,consts:[["fxFlex","",1,"content"]],template:function(i,s){i&1&&(W(0,"div",0),ne(1,"router-outlet"),te())},dependencies:[Vt]});let n=e;return n})();var To=[{path:"",component:bo,children:[{path:"",component:Hr},{path:"login",component:Hr}]},{path:"home",loadChildren:()=>import("./chunk-P3GXHEKF.js").then(n=>n.HomeRoutingModule)}];function So(n){return new k(3e3,!1)}function du(){return new k(3100,!1)}function fu(){return new k(3101,!1)}function mu(n){return new k(3001,!1)}function pu(n){return new k(3003,!1)}function gu(n){return new k(3004,!1)}function yu(n,e){return new k(3005,!1)}function _u(){return new k(3006,!1)}function vu(){return new k(3007,!1)}function wu(n,e){return new k(3008,!1)}function Eu(n){return new k(3002,!1)}function bu(n,e,t,r,i){return new k(3010,!1)}function Tu(){return new k(3011,!1)}function Su(){return new k(3012,!1)}function Au(){return new k(3200,!1)}function Iu(){return new k(3202,!1)}function Pu(){return new k(3013,!1)}function Du(n){return new k(3014,!1)}function Cu(n){return new k(3015,!1)}function Ru(n){return new k(3016,!1)}function Nu(n,e){return new k(3404,!1)}function ku(n){return new k(3502,!1)}function Ou(n){return new k(3503,!1)}function Mu(){return new k(3300,!1)}function Vu(n){return new k(3504,!1)}function Fu(n){return new k(3301,!1)}function Lu(n,e){return new k(3302,!1)}function xu(n){return new k(3303,!1)}function Bu(n,e){return new k(3400,!1)}function qu(n){return new k(3401,!1)}function $u(n){return new k(3402,!1)}function zu(n,e){return new k(3505,!1)}function De(n){switch(n.length){case 0:return new $e;case 1:return n[0];default:return new Mn(n)}}function xo(n,e,t=new Map,r=new Map){let i=[],s=[],o=-1,a=null;if(e.forEach(l=>{let h=l.get("offset"),y=h==o,_=y&&a||new Map;l.forEach((v,E)=>{let w=E,b=v;if(E!=="offset")switch(w=n.normalizePropertyName(w,i),b){case Ft:b=t.get(E);break;case ce:b=r.get(E);break;default:b=n.normalizeStyleValue(E,w,b,i);break}_.set(w,b)}),y||s.push(_),a=_,o=h}),i.length)throw ku(i);return s}function pi(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&Wr(t,"start",n)));break;case"done":n.onDone(()=>r(t&&Wr(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&Wr(t,"destroy",n)));break}}function Wr(n,e,t){let r=t.totalTime,i=!!t.disabled,s=gi(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,r??n.totalTime,i),o=n._data;return o!=null&&(s._data=o),s}function gi(n,e,t,r,i="",s=0,o){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:s,disabled:!!o}}function X(n,e,t){let r=n.get(e);return r||n.set(e,r=t),r}function Ao(n){let e=n.indexOf(":"),t=n.substring(1,e),r=n.slice(e+1);return[t,r]}var ju=typeof document>"u"?null:document.documentElement;function yi(n){let e=n.parentNode||n.host||null;return e===ju?null:e}function Uu(n){return n.substring(1,6)=="ebkit"}var Me=null,Io=!1;function Ku(n){Me||(Me=Hu()||{},Io=Me.style?"WebkitAppearance"in Me.style:!1);let e=!0;return Me.style&&!Uu(n)&&(e=n in Me.style,!e&&Io&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in Me.style)),e}function Hu(){return typeof document<"u"?document.body:null}function Bo(n,e){for(;e;){if(e===n)return!0;e=yi(e)}return!1}function qo(n,e,t){if(t)return Array.from(n.querySelectorAll(e));let r=n.querySelector(e);return r?[r]:[]}var _i=(()=>{let e=class e{validateStyleProperty(r){return Ku(r)}containsElement(r,i){return Bo(r,i)}getParentElement(r){return yi(r)}query(r,i,s){return qo(r,i,s)}computeStyle(r,i,s){return s||""}animate(r,i,s,o,a,l=[],h){return new $e(s,o)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=ue({token:e,factory:e.\u0275fac});let n=e;return n})(),bi=class bi{};bi.NOOP=new _i;var Le=bi,xe=class{};var Wu=1e3,$o="{{",Qu="}}",zo="ng-enter",Zr="ng-leave",dn="ng-trigger",yn=".ng-trigger",Po="ng-animating",ei=".ng-animating";function ve(n){if(typeof n=="number")return n;let e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:ti(parseFloat(e[1]),e[2])}function ti(n,e){switch(e){case"s":return n*Wu;default:return n}}function _n(n,e,t){return n.hasOwnProperty("duration")?n:Gu(n,e,t)}function Gu(n,e,t){let r=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i,i,s=0,o="";if(typeof n=="string"){let a=n.match(r);if(a===null)return e.push(So(n)),{duration:0,delay:0,easing:""};i=ti(parseFloat(a[1]),a[2]);let l=a[3];l!=null&&(s=ti(parseFloat(l),a[4]));let h=a[5];h&&(o=h)}else i=n;if(!t){let a=!1,l=e.length;i<0&&(e.push(du()),a=!0),s<0&&(e.push(fu()),a=!0),a&&e.splice(l,0,So(n))}return{duration:i,delay:s,easing:o}}function Yu(n){return n.length?n[0]instanceof Map?n:n.map(e=>new Map(Object.entries(e))):[]}function fe(n,e,t){e.forEach((r,i)=>{let s=vi(i);t&&!t.has(i)&&t.set(i,n.style[s]),n.style[s]=r})}function Fe(n,e){e.forEach((t,r)=>{let i=vi(r);n.style[i]=""})}function St(n){return Array.isArray(n)?n.length==1?n[0]:Hi(n):n}function Ju(n,e,t){let r=e.params||{},i=jo(n);i.length&&i.forEach(s=>{r.hasOwnProperty(s)||t.push(mu(s))})}var ni=new RegExp(`${$o}\\s*(.+?)\\s*${Qu}`,"g");function jo(n){let e=[];if(typeof n=="string"){let t;for(;t=ni.exec(n);)e.push(t[1]);ni.lastIndex=0}return e}function It(n,e,t){let r=`${n}`,i=r.replace(ni,(s,o)=>{let a=e[o];return a==null&&(t.push(pu(o)),a=""),a.toString()});return i==r?n:i}var Xu=/-+([a-z0-9])/g;function vi(n){return n.replace(Xu,(...e)=>e[1].toUpperCase())}function Zu(n,e){return n===0||e===0}function ec(n,e,t){if(t.size&&e.length){let r=e[0],i=[];if(t.forEach((s,o)=>{r.has(o)||i.push(o),r.set(o,s)}),i.length)for(let s=1;s<e.length;s++){let o=e[s];i.forEach(a=>o.set(a,wi(n,a)))}}return e}function J(n,e,t){switch(e.type){case C.Trigger:return n.visitTrigger(e,t);case C.State:return n.visitState(e,t);case C.Transition:return n.visitTransition(e,t);case C.Sequence:return n.visitSequence(e,t);case C.Group:return n.visitGroup(e,t);case C.Animate:return n.visitAnimate(e,t);case C.Keyframes:return n.visitKeyframes(e,t);case C.Style:return n.visitStyle(e,t);case C.Reference:return n.visitReference(e,t);case C.AnimateChild:return n.visitAnimateChild(e,t);case C.AnimateRef:return n.visitAnimateRef(e,t);case C.Query:return n.visitQuery(e,t);case C.Stagger:return n.visitStagger(e,t);default:throw gu(e.type)}}function wi(n,e){return window.getComputedStyle(n)[e]}var tc=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),vn=class extends xe{normalizePropertyName(e,t){return vi(e)}normalizeStyleValue(e,t,r,i){let s="",o=r.toString().trim();if(tc.has(t)&&r!==0&&r!=="0")if(typeof r=="number")s="px";else{let a=r.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&a[1].length==0&&i.push(yu(e,r))}return o+s}};var wn="*";function nc(n,e){let t=[];return typeof n=="string"?n.split(/\s*,\s*/).forEach(r=>rc(r,t,e)):t.push(n),t}function rc(n,e,t){if(n[0]==":"){let l=ic(n,t);if(typeof l=="function"){e.push(l);return}n=l}let r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(r==null||r.length<4)return t.push(Cu(n)),e;let i=r[1],s=r[2],o=r[3];e.push(Do(i,o));let a=i==wn&&o==wn;s[0]=="<"&&!a&&e.push(Do(o,i))}function ic(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(Ru(n)),"* => *"}}var fn=new Set(["true","1"]),mn=new Set(["false","0"]);function Do(n,e){let t=fn.has(n)||mn.has(n),r=fn.has(e)||mn.has(e);return(i,s)=>{let o=n==wn||n==i,a=e==wn||e==s;return!o&&t&&typeof i=="boolean"&&(o=i?fn.has(n):mn.has(n)),!a&&r&&typeof s=="boolean"&&(a=s?fn.has(e):mn.has(e)),o&&a}}var Uo=":self",sc=new RegExp(`s*${Uo}s*,?`,"g");function Ko(n,e,t,r){return new ri(n).build(e,t,r)}var Co="",ri=class{constructor(e){this._driver=e}build(e,t,r){let i=new ii(t);return this._resetContextStyleTimingState(i),J(this,St(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector=Co,e.collectedStyles=new Map,e.collectedStyles.set(Co,new Map),e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0,s=[],o=[];return e.name.charAt(0)=="@"&&t.errors.push(_u()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(t),a.type==C.State){let l=a,h=l.name;h.toString().split(/\s*,\s*/).forEach(y=>{l.name=y,s.push(this.visitState(l,t))}),l.name=h}else if(a.type==C.Transition){let l=this.visitTransition(a,t);r+=l.queryCount,i+=l.depCount,o.push(l)}else t.errors.push(vu())}),{type:C.Trigger,name:e.name,states:s,transitions:o,queryCount:r,depCount:i,options:null}}visitState(e,t){let r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){let s=new Set,o=i||{};r.styles.forEach(a=>{a instanceof Map&&a.forEach(l=>{jo(l).forEach(h=>{o.hasOwnProperty(h)||s.add(h)})})}),s.size&&t.errors.push(wu(e.name,[...s.values()]))}return{type:C.State,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;let r=J(this,St(e.animation),t),i=nc(e.expr,t.errors);return{type:C.Transition,matchers:i,animation:r,queryCount:t.queryCount,depCount:t.depCount,options:Ve(e.options)}}visitSequence(e,t){return{type:C.Sequence,steps:e.steps.map(r=>J(this,r,t)),options:Ve(e.options)}}visitGroup(e,t){let r=t.currentTime,i=0,s=e.steps.map(o=>{t.currentTime=r;let a=J(this,o,t);return i=Math.max(i,t.currentTime),a});return t.currentTime=i,{type:C.Group,steps:s,options:Ve(e.options)}}visitAnimate(e,t){let r=uc(e.timings,t.errors);t.currentAnimateTimings=r;let i,s=e.styles?e.styles:On({});if(s.type==C.Keyframes)i=this.visitKeyframes(s,t);else{let o=e.styles,a=!1;if(!o){a=!0;let h={};r.easing&&(h.easing=r.easing),o=On(h)}t.currentTime+=r.duration+r.delay;let l=this.visitStyle(o,t);l.isEmptyStep=a,i=l}return t.currentAnimateTimings=null,{type:C.Animate,timings:r,style:i,options:null}}visitStyle(e,t){let r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){let r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of i)typeof a=="string"?a===ce?r.push(a):t.errors.push(Eu(a)):r.push(new Map(Object.entries(a)));let s=!1,o=null;return r.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(o=a.get("easing"),a.delete("easing")),!s)){for(let l of a.values())if(l.toString().indexOf($o)>=0){s=!0;break}}}),{type:C.Style,styles:r,easing:o,offset:e.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(e,t){let r=t.currentAnimateTimings,i=t.currentTime,s=t.currentTime;r&&s>0&&(s-=r.duration+r.delay),e.styles.forEach(o=>{typeof o!="string"&&o.forEach((a,l)=>{let h=t.collectedStyles.get(t.currentQuerySelector),y=h.get(l),_=!0;y&&(s!=i&&s>=y.startTime&&i<=y.endTime&&(t.errors.push(bu(l,y.startTime,y.endTime,s,i)),_=!1),s=y.startTime),_&&h.set(l,{startTime:s,endTime:i}),t.options&&Ju(a,t.options,t.errors)})})}visitKeyframes(e,t){let r={type:C.Keyframes,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(Tu()),r;let i=1,s=0,o=[],a=!1,l=!1,h=0,y=e.steps.map(V=>{let O=this._makeStyleAst(V,t),F=O.offset!=null?O.offset:lc(O.styles),L=0;return F!=null&&(s++,L=O.offset=F),l=l||L<0||L>1,a=a||L<h,h=L,o.push(L),O});l&&t.errors.push(Su()),a&&t.errors.push(Au());let _=e.steps.length,v=0;s>0&&s<_?t.errors.push(Iu()):s==0&&(v=i/(_-1));let E=_-1,w=t.currentTime,b=t.currentAnimateTimings,P=b.duration;return y.forEach((V,O)=>{let F=v>0?O==E?1:v*O:o[O],L=F*P;t.currentTime=w+b.delay+L,b.duration=L,this._validateStyleAst(V,t),V.offset=F,r.styles.push(V)}),r}visitReference(e,t){return{type:C.Reference,animation:J(this,St(e.animation),t),options:Ve(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:C.AnimateChild,options:Ve(e.options)}}visitAnimateRef(e,t){return{type:C.AnimateRef,animation:this.visitReference(e.animation,t),options:Ve(e.options)}}visitQuery(e,t){let r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;let[s,o]=oc(e.selector);t.currentQuerySelector=r.length?r+" "+s:s,X(t.collectedStyles,t.currentQuerySelector,new Map);let a=J(this,St(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:C.Query,selector:s,limit:i.limit||0,optional:!!i.optional,includeSelf:o,animation:a,originalSelector:e.selector,options:Ve(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(Pu());let r=e.timings==="full"?{duration:0,delay:0,easing:"full"}:_n(e.timings,t.errors,!0);return{type:C.Stagger,animation:J(this,St(e.animation),t),timings:r,options:null}}};function oc(n){let e=!!n.split(/\s*,\s*/).find(t=>t==Uo);return e&&(n=n.replace(sc,"")),n=n.replace(/@\*/g,yn).replace(/@\w+/g,t=>yn+"-"+t.slice(1)).replace(/:animating/g,ei),[n,e]}function ac(n){return n?Be({},n):null}var ii=class{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}};function lc(n){if(typeof n=="string")return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){let r=t;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){let t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}function uc(n,e){if(n.hasOwnProperty("duration"))return n;if(typeof n=="number"){let s=_n(n,e).duration;return Qr(s,0,"")}let t=n;if(t.split(/\s+/).some(s=>s.charAt(0)=="{"&&s.charAt(1)=="{")){let s=Qr(0,0,"");return s.dynamic=!0,s.strValue=t,s}let i=_n(t,e);return Qr(i.duration,i.delay,i.easing)}function Ve(n){return n?(n=Be({},n),n.params&&(n.params=ac(n.params))):n={},n}function Qr(n,e,t){return{duration:n,delay:e,easing:t}}function Ei(n,e,t,r,i,s,o=null,a=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:o,subTimeline:a}}var Pt=class{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}},cc=1,hc=":enter",dc=new RegExp(hc,"g"),fc=":leave",mc=new RegExp(fc,"g");function Ho(n,e,t,r,i,s=new Map,o=new Map,a,l,h=[]){return new si().buildKeyframes(n,e,t,r,i,s,o,a,l,h)}var si=class{buildKeyframes(e,t,r,i,s,o,a,l,h,y=[]){h=h||new Pt;let _=new oi(e,t,h,i,s,y,[]);_.options=l;let v=l.delay?ve(l.delay):0;_.currentTimeline.delayNextStep(v),_.currentTimeline.setStyles([o],null,_.errors,l),J(this,r,_);let E=_.timelines.filter(w=>w.containsAnimation());if(E.length&&a.size){let w;for(let b=E.length-1;b>=0;b--){let P=E[b];if(P.element===t){w=P;break}}w&&!w.allowOnlyTimelineStyles()&&w.setStyles([a],null,_.errors,l)}return E.length?E.map(w=>w.buildKeyframes()):[Ei(t,[],[],[],0,v,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){let r=t.subInstructions.get(t.element);if(r){let i=t.createSubContext(e.options),s=t.currentTimeline.currentTime,o=this._visitSubInstructions(r,i,i.options);s!=o&&t.transformIntoNewTimeline(o)}t.previousNode=e}visitAnimateRef(e,t){let r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,r),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,r){for(let i of e){let s=i?.delay;if(s){let o=typeof s=="number"?s:ve(It(s,i?.params??{},t.errors));r.delayNextStep(o)}}}_visitSubInstructions(e,t,r){let s=t.currentTimeline.currentTime,o=r.duration!=null?ve(r.duration):null,a=r.delay!=null?ve(r.delay):null;return o!==0&&e.forEach(l=>{let h=t.appendInstructionToTimeline(l,o,a);s=Math.max(s,h.duration+h.delay)}),s}visitReference(e,t){t.updateOptions(e.options,!0),J(this,e.animation,t),t.previousNode=e}visitSequence(e,t){let r=t.subContextCount,i=t,s=e.options;if(s&&(s.params||s.delay)&&(i=t.createSubContext(s),i.transformIntoNewTimeline(),s.delay!=null)){i.previousNode.type==C.Style&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=En);let o=ve(s.delay);i.delayNextStep(o)}e.steps.length&&(e.steps.forEach(o=>J(this,o,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){let r=[],i=t.currentTimeline.currentTime,s=e.options&&e.options.delay?ve(e.options.delay):0;e.steps.forEach(o=>{let a=t.createSubContext(e.options);s&&a.delayNextStep(s),J(this,o,a),i=Math.max(i,a.currentTimeline.currentTime),r.push(a.currentTimeline)}),r.forEach(o=>t.currentTimeline.mergeTimelineCollectedStyles(o)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){let r=e.strValue,i=t.params?It(r,t.params,t.errors):r;return _n(i,t.errors)}else return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){let r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());let s=e.style;s.type==C.Keyframes?this.visitKeyframes(s,t):(t.incrementTime(r.duration),this.visitStyle(s,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){let r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();let s=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(s):r.setStyles(e.styles,s,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){let r=t.currentAnimateTimings,i=t.currentTimeline.duration,s=r.duration,a=t.createSubContext().currentTimeline;a.easing=r.easing,e.styles.forEach(l=>{let h=l.offset||0;a.forwardTime(h*s),a.setStyles(l.styles,l.easing,t.errors,t.options),a.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(a),t.transformIntoNewTimeline(i+s),t.previousNode=e}visitQuery(e,t){let r=t.currentTimeline.currentTime,i=e.options||{},s=i.delay?ve(i.delay):0;s&&(t.previousNode.type===C.Style||r==0&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=En);let o=r,a=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=a.length;let l=null;a.forEach((h,y)=>{t.currentQueryIndex=y;let _=t.createSubContext(e.options,h);s&&_.delayNextStep(s),h===t.element&&(l=_.currentTimeline),J(this,e.animation,_),_.currentTimeline.applyStylesToKeyframe();let v=_.currentTimeline.currentTime;o=Math.max(o,v)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(o),l&&(t.currentTimeline.mergeTimelineCollectedStyles(l),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){let r=t.parentContext,i=t.currentTimeline,s=e.timings,o=Math.abs(s.duration),a=o*(t.currentQueryTotal-1),l=o*t.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":l=a-l;break;case"full":l=r.currentStaggerTime;break}let y=t.currentTimeline;l&&y.delayNextStep(l);let _=y.currentTime;J(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-_+(i.startTime-r.currentTimeline.startTime)}},En={},oi=class n{constructor(e,t,r,i,s,o,a,l){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=s,this.errors=o,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=En,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new bn(this._driver,t,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;let r=e,i=this.options;r.duration!=null&&(i.duration=ve(r.duration)),r.delay!=null&&(i.delay=ve(r.delay));let s=r.params;if(s){let o=i.params;o||(o=this.options.params={}),Object.keys(s).forEach(a=>{(!t||!o.hasOwnProperty(a))&&(o[a]=It(s[a],o,this.errors))})}}_copyOptions(){let e={};if(this.options){let t=this.options.params;if(t){let r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){let i=t||this.element,s=new n(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(e),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(e){return this.previousNode=En,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){let i={duration:t??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},s=new ai(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(s),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,s,o){let a=[];if(i&&a.push(this.element),e.length>0){e=e.replace(dc,"."+this._enterClassName),e=e.replace(mc,"."+this._leaveClassName);let l=r!=1,h=this._driver.query(this.element,e,l);r!==0&&(h=r<0?h.slice(h.length+r,h.length):h.slice(0,r)),a.push(...h)}return!s&&a.length==0&&o.push(Du(t)),a}},bn=class n{constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){let t=this._keyframes.size===1&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new n(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=cc,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,r]of this._globalTimelineStyles)this._backFill.set(t,r||ce),this._currentKeyframe.set(t,ce);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&this._previousKeyframe.set("easing",t);let s=i&&i.params||{},o=pc(e,this._globalTimelineStyles);for(let[a,l]of o){let h=It(l,s,r);this._pendingStyles.set(a,h),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??ce),this._updateStyle(a,h)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,r)=>{let i=this._styleSummary.get(r);(!i||t.time>i.time)&&this._updateStyle(r,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();let e=new Set,t=new Set,r=this._keyframes.size===1&&this.duration===0,i=[];this._keyframes.forEach((a,l)=>{let h=new Map([...this._backFill,...a]);h.forEach((y,_)=>{y===Ft?e.add(_):y===ce&&t.add(_)}),r||h.set("offset",l/this.duration),i.push(h)});let s=[...e.values()],o=[...t.values()];if(r){let a=i[0],l=new Map(a);a.set("offset",0),l.set("offset",1),i=[a,l]}return Ei(this.element,i,s,o,this.duration,this.startTime,this.easing,!1)}},ai=class extends bn{constructor(e,t,r,i,s,o,a=!1){super(e,t,o.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=s,this._stretchStartingKeyframe=a,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){let s=[],o=r+t,a=t/o,l=new Map(e[0]);l.set("offset",0),s.push(l);let h=new Map(e[0]);h.set("offset",Ro(a)),s.push(h);let y=e.length-1;for(let _=1;_<=y;_++){let v=new Map(e[_]),E=v.get("offset"),w=t+E*r;v.set("offset",Ro(w/o)),s.push(v)}r=o,t=0,i="",e=s}return Ei(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}};function Ro(n,e=3){let t=Math.pow(10,e-1);return Math.round(n*t)/t}function pc(n,e){let t=new Map,r;return n.forEach(i=>{if(i==="*"){r??=e.keys();for(let s of r)t.set(s,ce)}else for(let[s,o]of i)t.set(s,o)}),t}function No(n,e,t,r,i,s,o,a,l,h,y,_,v){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:s,toState:r,toStyles:o,timelines:a,queriedElements:l,preStyleProps:h,postStyleProps:y,totalTime:_,errors:v}}var Gr={},Tn=class{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return gc(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){let i=this._stateStyles.get("*");return e!==void 0&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(t,r):new Map}build(e,t,r,i,s,o,a,l,h,y){let _=[],v=this.ast.options&&this.ast.options.params||Gr,E=a&&a.params||Gr,w=this.buildStyles(r,E,_),b=l&&l.params||Gr,P=this.buildStyles(i,b,_),V=new Set,O=new Map,F=new Map,L=i==="void",me={params:Wo(b,v),delay:this.ast.options?.delay},U=y?[]:Ho(e,t,this.ast.animation,s,o,w,P,me,h,_),m=0;return U.forEach(u=>{m=Math.max(u.duration+u.delay,m)}),_.length?No(t,this._triggerName,r,i,L,w,P,[],[],O,F,m,_):(U.forEach(u=>{let d=u.element,f=X(O,d,new Set);u.preStyleProps.forEach(g=>f.add(g));let p=X(F,d,new Set);u.postStyleProps.forEach(g=>p.add(g)),d!==t&&V.add(d)}),No(t,this._triggerName,r,i,L,w,P,U,[...V.values()],O,F,m))}};function gc(n,e,t,r,i){return n.some(s=>s(e,t,r,i))}function Wo(n,e){let t=Be({},e);return Object.entries(n).forEach(([r,i])=>{i!=null&&(t[r]=i)}),t}var li=class{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){let r=new Map,i=Wo(e,this.defaultParams);return this.styles.styles.forEach(s=>{typeof s!="string"&&s.forEach((o,a)=>{o&&(o=It(o,i,t));let l=this.normalizer.normalizePropertyName(a,t);o=this.normalizer.normalizeStyleValue(a,l,o,t),r.set(a,o)})}),r}};function yc(n,e,t){return new ui(n,e,t)}var ui=class{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states=new Map,t.states.forEach(i=>{let s=i.options&&i.options.params||{};this.states.set(i.name,new li(i.style,s,r))}),ko(this.states,"true","1"),ko(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new Tn(e,i,this.states))}),this.fallbackTransition=_c(e,this.states,this._normalizer)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(o=>o.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}};function _c(n,e,t){let r=[(o,a)=>!0],i={type:C.Sequence,steps:[],options:null},s={type:C.Transition,animation:i,matchers:r,options:null,queryCount:0,depCount:0};return new Tn(n,s,e)}function ko(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}var vc=new Pt,ci=class{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){let r=[],i=[],s=Ko(this._driver,t,r,i);if(r.length)throw Ou(r);i.length&&void 0,this._animations.set(e,s)}_buildPlayer(e,t,r){let i=e.element,s=xo(this._normalizer,e.keyframes,t,r);return this._driver.animate(i,s,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){let i=[],s=this._animations.get(e),o,a=new Map;if(s?(o=Ho(this._driver,t,s,zo,Zr,new Map,new Map,r,vc,i),o.forEach(y=>{let _=X(a,y.element,new Map);y.postStyleProps.forEach(v=>_.set(v,null))})):(i.push(Mu()),o=[]),i.length)throw Vu(i);a.forEach((y,_)=>{y.forEach((v,E)=>{y.set(E,this._driver.computeStyle(_,E,ce))})});let l=o.map(y=>{let _=a.get(y.element);return this._buildPlayer(y,new Map,_)}),h=De(l);return this._playersById.set(e,h),h.onDestroy(()=>this.destroy(e)),this.players.push(h),h}destroy(e){let t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);let r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){let t=this._playersById.get(e);if(!t)throw Fu(e);return t}listen(e,t,r,i){let s=gi(t,"","","");return pi(this._getPlayer(e),r,s,i),()=>{}}command(e,t,r,i){if(r=="register"){this.register(e,i[0]);return}if(r=="create"){let o=i[0]||{};this.create(e,t,o);return}let s=this._getPlayer(e);switch(r){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e);break}}},Oo="ng-animate-queued",wc=".ng-animate-queued",Yr="ng-animate-disabled",Ec=".ng-animate-disabled",bc="ng-star-inserted",Tc=".ng-star-inserted",Sc=[],Qo={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Ac={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},oe="__ng_removed",Dt=class{get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;let r=e&&e.hasOwnProperty("value"),i=r?e.value:e;if(this.value=Pc(i),r){let s=e,{value:o}=s,a=Ai(s,["value"]);this.options=a}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){let t=e.params;if(t){let r=this.options.params;Object.keys(t).forEach(i=>{r[i]==null&&(r[i]=t[i])})}}},At="void",Jr=new Dt(At),hi=class{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,ee(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.has(t))throw Lu(r,t);if(r==null||r.length==0)throw xu(t);if(!Dc(r))throw Bu(r,t);let s=X(this._elementListeners,e,[]),o={name:t,phase:r,callback:i};s.push(o);let a=X(this._engine.statesByElement,e,new Map);return a.has(t)||(ee(e,dn),ee(e,dn+"-"+t),a.set(t,Jr)),()=>{this._engine.afterFlush(()=>{let l=s.indexOf(o);l>=0&&s.splice(l,1),this._triggers.has(t)||a.delete(t)})}}register(e,t){return this._triggers.has(e)?!1:(this._triggers.set(e,t),!0)}_getTrigger(e){let t=this._triggers.get(e);if(!t)throw qu(e);return t}trigger(e,t,r,i=!0){let s=this._getTrigger(t),o=new Ct(this.id,t,e),a=this._engine.statesByElement.get(e);a||(ee(e,dn),ee(e,dn+"-"+t),this._engine.statesByElement.set(e,a=new Map));let l=a.get(t),h=new Dt(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&l&&h.absorbOptions(l.options),a.set(t,h),l||(l=Jr),!(h.value===At)&&l.value===h.value){if(!Nc(l.params,h.params)){let b=[],P=s.matchStyles(l.value,l.params,b),V=s.matchStyles(h.value,h.params,b);b.length?this._engine.reportError(b):this._engine.afterFlush(()=>{Fe(e,P),fe(e,V)})}return}let v=X(this._engine.playersByElement,e,[]);v.forEach(b=>{b.namespaceId==this.id&&b.triggerName==t&&b.queued&&b.destroy()});let E=s.matchTransition(l.value,h.value,e,h.params),w=!1;if(!E){if(!i)return;E=s.fallbackTransition,w=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:E,fromState:l,toState:h,player:o,isFallbackTransition:w}),w||(ee(e,Oo),o.onStart(()=>{Je(e,Oo)})),o.onDone(()=>{let b=this.players.indexOf(o);b>=0&&this.players.splice(b,1);let P=this._engine.playersByElement.get(e);if(P){let V=P.indexOf(o);V>=0&&P.splice(V,1)}}),this.players.push(o),v.push(o),o}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);let t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){let r=this._engine.driver.query(e,yn,!0);r.forEach(i=>{if(i[oe])return;let s=this._engine.fetchNamespacesByElement(i);s.size?s.forEach(o=>o.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){let s=this._engine.statesByElement.get(e),o=new Map;if(s){let a=[];if(s.forEach((l,h)=>{if(o.set(h,l.value),this._triggers.has(h)){let y=this.trigger(e,h,At,i);y&&a.push(y)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,o),r&&De(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){let t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){let i=new Set;t.forEach(s=>{let o=s.name;if(i.has(o))return;i.add(o);let l=this._triggers.get(o).fallbackTransition,h=r.get(o)||Jr,y=new Dt(At),_=new Ct(this.id,o,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:o,transition:l,fromState:h,toState:y,player:_,isFallbackTransition:!0})})}}removeNode(e,t){let r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){let s=r.players.length?r.playersByQueriedElement.get(e):[];if(s&&s.length)i=!0;else{let o=e;for(;o=o.parentNode;)if(r.statesByElement.get(o)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{let s=e[oe];(!s||s===Qo)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){ee(e,this._hostClassName)}drainQueuedTransitions(e){let t=[];return this._queue.forEach(r=>{let i=r.player;if(i.destroyed)return;let s=r.element,o=this._elementListeners.get(s);o&&o.forEach(a=>{if(a.name==r.triggerName){let l=gi(s,r.triggerName,r.fromState.value,r.toState.value);l._data=e,pi(r.player,a.phase,l,a.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{let s=r.transition.ast.depCount,o=i.transition.ast.depCount;return s==0||o==0?s-o:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}},di=class{_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,s)=>{}}get queuedPlayers(){let e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){let r=new hi(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){let r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let o=!1,a=this.driver.getParentElement(t);for(;a;){let l=i.get(a);if(l){let h=r.indexOf(l);r.splice(h+1,0,e),o=!0;break}a=this.driver.getParentElement(a)}o||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let r=this._fetchNamespace(e);this.namespacesByHostElement.delete(r.hostElement);let i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1),r.destroy(t),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){let t=new Set,r=this.statesByElement.get(e);if(r){for(let i of r.values())if(i.namespaceId){let s=this._fetchNamespace(i.namespaceId);s&&t.add(s)}}return t}trigger(e,t,r,i){if(pn(t)){let s=this._fetchNamespace(e);if(s)return s.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!pn(t))return;let s=t[oe];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;let o=this.collectedLeaveElements.indexOf(t);o>=0&&this.collectedLeaveElements.splice(o,1)}if(e){let o=this._fetchNamespace(e);o&&o.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),ee(e,Yr)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Je(e,Yr))}removeNode(e,t,r){if(pn(t)){let i=e?this._fetchNamespace(e):null;i?i.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r);let s=this.namespacesByHostElement.get(t);s&&s.id!==e&&s.removeNode(t,r)}else this._onRemovalComplete(t,r)}markElementAsRemoved(e,t,r,i,s){this.collectedLeaveElements.push(t),t[oe]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:s}}listen(e,t,r,i,s){return pn(t)?this._fetchNamespace(e).listen(t,r,i,s):()=>{}}_buildInstruction(e,t,r,i,s){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,s)}destroyInnerAnimations(e){let t=this.driver.query(e,yn,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),this.playersByQueriedElement.size!=0&&(t=this.driver.query(e,ei,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){let t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){let t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return De(this.players).onDone(()=>e());e()})}processLeaveNode(e){let t=e[oe];if(t&&t.setForRemoval){if(e[oe]=Qo,t.namespaceId){this.destroyInnerAnimations(e);let r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(Yr)&&this.markElementAsDisabled(e,!1),this.driver.query(e,Ec,!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++){let i=this.collectedEnterElements[r];ee(i,bc)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++){let i=this.collectedLeaveElements[r];this.processLeaveNode(i)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){let r=this._whenQuietFns;this._whenQuietFns=[],t.length?De(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw $u(e)}_flushAnimations(e,t){let r=new Pt,i=[],s=new Map,o=[],a=new Map,l=new Map,h=new Map,y=new Set;this.disabledNodes.forEach(T=>{y.add(T);let S=this.driver.query(T,wc,!0);for(let I=0;I<S.length;I++)y.add(S[I])});let _=this.bodyNode,v=Array.from(this.statesByElement.keys()),E=Fo(v,this.collectedEnterElements),w=new Map,b=0;E.forEach((T,S)=>{let I=zo+b++;w.set(S,I),T.forEach(N=>ee(N,I))});let P=[],V=new Set,O=new Set;for(let T=0;T<this.collectedLeaveElements.length;T++){let S=this.collectedLeaveElements[T],I=S[oe];I&&I.setForRemoval&&(P.push(S),V.add(S),I.hasAnimation?this.driver.query(S,Tc,!0).forEach(N=>V.add(N)):O.add(S))}let F=new Map,L=Fo(v,Array.from(V));L.forEach((T,S)=>{let I=Zr+b++;F.set(S,I),T.forEach(N=>ee(N,I))}),e.push(()=>{E.forEach((T,S)=>{let I=w.get(S);T.forEach(N=>Je(N,I))}),L.forEach((T,S)=>{let I=F.get(S);T.forEach(N=>Je(N,I))}),P.forEach(T=>{this.processLeaveNode(T)})});let me=[],U=[];for(let T=this._namespaceList.length-1;T>=0;T--)this._namespaceList[T].drainQueuedTransitions(t).forEach(I=>{let N=I.player,z=I.element;if(me.push(N),this.collectedEnterElements.length){let K=z[oe];if(K&&K.setForMove){if(K.previousTriggersValues&&K.previousTriggersValues.has(I.triggerName)){let Ce=K.previousTriggersValues.get(I.triggerName),Z=this.statesByElement.get(I.element);if(Z&&Z.has(I.triggerName)){let Rt=Z.get(I.triggerName);Rt.value=Ce,Z.set(I.triggerName,Rt)}}N.destroy();return}}let le=!_||!this.driver.containsElement(_,z),Y=F.get(z),we=w.get(z),x=this._buildInstruction(I,r,we,Y,le);if(x.errors&&x.errors.length){U.push(x);return}if(le){N.onStart(()=>Fe(z,x.fromStyles)),N.onDestroy(()=>fe(z,x.toStyles)),i.push(N);return}if(I.isFallbackTransition){N.onStart(()=>Fe(z,x.fromStyles)),N.onDestroy(()=>fe(z,x.toStyles)),i.push(N);return}let Ti=[];x.timelines.forEach(K=>{K.stretchStartingKeyframe=!0,this.disabledNodes.has(K.element)||Ti.push(K)}),x.timelines=Ti,r.append(z,x.timelines);let ra={instruction:x,player:N,element:z};o.push(ra),x.queriedElements.forEach(K=>X(a,K,[]).push(N)),x.preStyleProps.forEach((K,Ce)=>{if(K.size){let Z=l.get(Ce);Z||l.set(Ce,Z=new Set),K.forEach((Rt,Dn)=>Z.add(Dn))}}),x.postStyleProps.forEach((K,Ce)=>{let Z=h.get(Ce);Z||h.set(Ce,Z=new Set),K.forEach((Rt,Dn)=>Z.add(Dn))})});if(U.length){let T=[];U.forEach(S=>{T.push(zu(S.triggerName,S.errors))}),me.forEach(S=>S.destroy()),this.reportError(T)}let m=new Map,u=new Map;o.forEach(T=>{let S=T.element;r.has(S)&&(u.set(S,S),this._beforeAnimationBuild(T.player.namespaceId,T.instruction,m))}),i.forEach(T=>{let S=T.element;this._getPreviousPlayers(S,!1,T.namespaceId,T.triggerName,null).forEach(N=>{X(m,S,[]).push(N),N.destroy()})});let d=P.filter(T=>Lo(T,l,h)),f=new Map;Vo(f,this.driver,O,h,ce).forEach(T=>{Lo(T,l,h)&&d.push(T)});let g=new Map;E.forEach((T,S)=>{Vo(g,this.driver,new Set(T),l,Ft)}),d.forEach(T=>{let S=f.get(T),I=g.get(T);f.set(T,new Map([...S?.entries()??[],...I?.entries()??[]]))});let c=[],ae=[],et={};o.forEach(T=>{let{element:S,player:I,instruction:N}=T;if(r.has(S)){if(y.has(S)){I.onDestroy(()=>fe(S,N.toStyles)),I.disabled=!0,I.overrideTotalTime(N.totalTime),i.push(I);return}let z=et;if(u.size>1){let Y=S,we=[];for(;Y=Y.parentNode;){let x=u.get(Y);if(x){z=x;break}we.push(Y)}we.forEach(x=>u.set(x,z))}let le=this._buildAnimation(I.namespaceId,N,m,s,g,f);if(I.setRealPlayer(le),z===et)c.push(I);else{let Y=this.playersByElement.get(z);Y&&Y.length&&(I.parentPlayer=De(Y)),i.push(I)}}else Fe(S,N.fromStyles),I.onDestroy(()=>fe(S,N.toStyles)),ae.push(I),y.has(S)&&i.push(I)}),ae.forEach(T=>{let S=s.get(T.element);if(S&&S.length){let I=De(S);T.setRealPlayer(I)}}),i.forEach(T=>{T.parentPlayer?T.syncPlayerEvents(T.parentPlayer):T.destroy()});for(let T=0;T<P.length;T++){let S=P[T],I=S[oe];if(Je(S,Zr),I&&I.hasAnimation)continue;let N=[];if(a.size){let le=a.get(S);le&&le.length&&N.push(...le);let Y=this.driver.query(S,ei,!0);for(let we=0;we<Y.length;we++){let x=a.get(Y[we]);x&&x.length&&N.push(...x)}}let z=N.filter(le=>!le.destroyed);z.length?Cc(this,S,z):this.processLeaveNode(S)}return P.length=0,c.forEach(T=>{this.players.push(T),T.onDone(()=>{T.destroy();let S=this.players.indexOf(T);this.players.splice(S,1)}),T.play()}),c}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,s){let o=[];if(t){let a=this.playersByQueriedElement.get(e);a&&(o=a)}else{let a=this.playersByElement.get(e);if(a){let l=!s||s==At;a.forEach(h=>{h.queued||!l&&h.triggerName!=i||o.push(h)})}}return(r||i)&&(o=o.filter(a=>!(r&&r!=a.namespaceId||i&&i!=a.triggerName))),o}_beforeAnimationBuild(e,t,r){let i=t.triggerName,s=t.element,o=t.isRemovalTransition?void 0:e,a=t.isRemovalTransition?void 0:i;for(let l of t.timelines){let h=l.element,y=h!==s,_=X(r,h,[]);this._getPreviousPlayers(h,y,o,a,t.toState).forEach(E=>{let w=E.getRealPlayer();w.beforeDestroy&&w.beforeDestroy(),E.destroy(),_.push(E)})}Fe(s,t.fromStyles)}_buildAnimation(e,t,r,i,s,o){let a=t.triggerName,l=t.element,h=[],y=new Set,_=new Set,v=t.timelines.map(w=>{let b=w.element;y.add(b);let P=b[oe];if(P&&P.removedBeforeQueried)return new $e(w.duration,w.delay);let V=b!==l,O=Rc((r.get(b)||Sc).map(m=>m.getRealPlayer())).filter(m=>{let u=m;return u.element?u.element===b:!1}),F=s.get(b),L=o.get(b),me=xo(this._normalizer,w.keyframes,F,L),U=this._buildPlayer(w,me,O);if(w.subTimeline&&i&&_.add(b),V){let m=new Ct(e,a,b);m.setRealPlayer(U),h.push(m)}return U});h.forEach(w=>{X(this.playersByQueriedElement,w.element,[]).push(w),w.onDone(()=>Ic(this.playersByQueriedElement,w.element,w))}),y.forEach(w=>ee(w,Po));let E=De(v);return E.onDestroy(()=>{y.forEach(w=>Je(w,Po)),fe(l,t.toStyles)}),_.forEach(w=>{X(i,w,[]).push(E)}),E}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new $e(e.duration,e.delay)}},Ct=class{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new $e,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,r)=>{t.forEach(i=>pi(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){let t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){X(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){let t=this._player;t.triggerCallback&&t.triggerCallback(e)}};function Ic(n,e,t){let r=n.get(e);if(r){if(r.length){let i=r.indexOf(t);r.splice(i,1)}r.length==0&&n.delete(e)}return r}function Pc(n){return n??null}function pn(n){return n&&n.nodeType===1}function Dc(n){return n=="start"||n=="done"}function Mo(n,e){let t=n.style.display;return n.style.display=e??"none",t}function Vo(n,e,t,r,i){let s=[];t.forEach(l=>s.push(Mo(l)));let o=[];r.forEach((l,h)=>{let y=new Map;l.forEach(_=>{let v=e.computeStyle(h,_,i);y.set(_,v),(!v||v.length==0)&&(h[oe]=Ac,o.push(h))}),n.set(h,y)});let a=0;return t.forEach(l=>Mo(l,s[a++])),o}function Fo(n,e){let t=new Map;if(n.forEach(a=>t.set(a,[])),e.length==0)return t;let r=1,i=new Set(e),s=new Map;function o(a){if(!a)return r;let l=s.get(a);if(l)return l;let h=a.parentNode;return t.has(h)?l=h:i.has(h)?l=r:l=o(h),s.set(a,l),l}return e.forEach(a=>{let l=o(a);l!==r&&t.get(l).push(a)}),t}function ee(n,e){n.classList?.add(e)}function Je(n,e){n.classList?.remove(e)}function Cc(n,e,t){De(t).onDone(()=>n.processLeaveNode(e))}function Rc(n){let e=[];return Go(n,e),e}function Go(n,e){for(let t=0;t<n.length;t++){let r=n[t];r instanceof Mn?Go(r.players,e):e.push(r)}}function Nc(n,e){let t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){let s=t[i];if(!e.hasOwnProperty(s)||n[s]!==e[s])return!1}return!0}function Lo(n,e,t){let r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(s=>i.add(s)):e.set(n,r),t.delete(n),!0}var Ze=class{constructor(e,t,r){this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,s)=>{},this._transitionEngine=new di(e.body,t,r),this._timelineEngine=new ci(e.body,t,r),this._transitionEngine.onRemovalComplete=(i,s)=>this.onRemovalComplete(i,s)}registerTrigger(e,t,r,i,s){let o=e+"-"+i,a=this._triggerCache[o];if(!a){let l=[],h=[],y=Ko(this._driver,s,l,h);if(l.length)throw Nu(i,l);h.length&&void 0,a=yc(i,y,this._normalizer),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(t,i,a)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r){this._transitionEngine.removeNode(e,t,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if(r.charAt(0)=="@"){let[s,o]=Ao(r),a=i;this._timelineEngine.command(s,t,o,a)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,s){if(r.charAt(0)=="@"){let[o,a]=Ao(r);return this._timelineEngine.listen(o,t,a,s)}return this._transitionEngine.listen(e,t,r,i,s)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}};function kc(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=Xr(e[0]),e.length>1&&(r=Xr(e[e.length-1]))):e instanceof Map&&(t=Xr(e)),t||r?new fi(n,t,r):null}var Xe=class Xe{constructor(e,t,r){this._element=e,this._startStyles=t,this._endStyles=r,this._state=0;let i=Xe.initialStylesByElement.get(e);i||Xe.initialStylesByElement.set(e,i=new Map),this._initialStyles=i}start(){this._state<1&&(this._startStyles&&fe(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(fe(this._element,this._initialStyles),this._endStyles&&(fe(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(Xe.initialStylesByElement.delete(this._element),this._startStyles&&(Fe(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Fe(this._element,this._endStyles),this._endStyles=null),fe(this._element,this._initialStyles),this._state=3)}};Xe.initialStylesByElement=new WeakMap;var fi=Xe;function Xr(n){let e=null;return n.forEach((t,r)=>{Oc(r)&&(e=e||new Map,e.set(r,t))}),e}function Oc(n){return n==="display"||n==="position"}var Sn=class{constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;let e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map;let t=()=>this._onFinish();this.domPlayer.addEventListener("finish",t),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",t)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){let t=[];return e.forEach(r=>{t.push(Object.fromEntries(r))}),t}_triggerWebAnimation(e,t,r){return e.animate(this._convertKeyframesToObject(t),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){this.domPlayer===void 0&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){let e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{i!=="offset"&&e.set(i,this._finished?r:wi(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){let t=e==="start"?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}},An=class{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}containsElement(e,t){return Bo(e,t)}getParentElement(e){return yi(e)}query(e,t,r){return qo(e,t,r)}computeStyle(e,t,r){return wi(e,t)}animate(e,t,r,i,s,o=[]){let a=i==0?"both":"forwards",l={duration:r,delay:i,fill:a};s&&(l.easing=s);let h=new Map,y=o.filter(E=>E instanceof Sn);Zu(r,i)&&y.forEach(E=>{E.currentSnapshot.forEach((w,b)=>h.set(b,w))});let _=Yu(t).map(E=>new Map(E));_=ec(e,_,h);let v=kc(e,_);return new Sn(e,_,l,v)}};var gn="@",Yo="@.disabled",In=class{constructor(e,t,r,i){this.namespaceId=e,this.delegate=t,this.engine=r,this._onDestroy=i,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.parentNode(t)&&this.engine.onRemove(this.namespaceId,t,this.delegate)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){t.charAt(0)==gn&&t==Yo?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}},mi=class extends In{constructor(e,t,r,i,s){super(t,r,i,s),this.factory=e,this.namespaceId=t}setProperty(e,t,r){t.charAt(0)==gn?t.charAt(1)=="."&&t==Yo?(r=r===void 0?!0:!!r,this.disableAnimations(e,r)):this.engine.process(this.namespaceId,e,t.slice(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if(t.charAt(0)==gn){let i=Mc(e),s=t.slice(1),o="";return s.charAt(0)!=gn&&([s,o]=Vc(s)),this.engine.listen(this.namespaceId,i,s,o,a=>{let l=a._data||-1;this.factory.scheduleListenerCallback(l,r,a)})}return this.delegate.listen(e,t,r)}};function Mc(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}function Vc(n){let e=n.indexOf("."),t=n.substring(0,e),r=n.slice(e+1);return[t,r]}var Pn=class{constructor(e,t,r){this.delegate=e,this.engine=t,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,t.onRemovalComplete=(i,s)=>{s?.removeChild(null,i)}}createRenderer(e,t){let r="",i=this.delegate.createRenderer(e,t);if(!e||!t?.data?.animation){let h=this._rendererCache,y=h.get(i);if(!y){let _=()=>h.delete(i);y=new In(r,i,this.engine,_),h.set(i,y)}return y}let s=t.id,o=t.id+"-"+this._currentId;this._currentId++,this.engine.register(o,e);let a=h=>{Array.isArray(h)?h.forEach(a):this.engine.registerTrigger(s,o,e,h.name,h)};return t.data.animation.forEach(a),new mi(this,o,i,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,t,r){if(e>=0&&e<this._microtaskId){this._zone.run(()=>t(r));return}let i=this._animationCallbacksBuffer;i.length==0&&queueMicrotask(()=>{this._zone.run(()=>{i.forEach(s=>{let[o,a]=s;o(a)}),this._animationCallbacksBuffer=[]})}),i.push([t,r])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}};var Lc=(()=>{let e=class e extends Ze{constructor(r,i,s){super(r,i,s)}ngOnDestroy(){this.flush()}};e.\u0275fac=function(i){return new(i||e)(kt(Ri),kt(Le),kt(xe))},e.\u0275prov=ue({token:e,factory:e.\u0275fac});let n=e;return n})();function xc(){return new vn}function Bc(n,e,t){return new Pn(n,e,t)}var Xo=[{provide:xe,useFactory:xc},{provide:Ze,useClass:Lc},{provide:Di,useFactory:Bc,deps:[Oi,Ze,Pi]}],Jo=[{provide:Le,useFactory:()=>new An},{provide:Cn,useValue:"BrowserAnimations"},...Xo],qc=[{provide:Le,useClass:_i},{provide:Cn,useValue:"NoopAnimations"},...Xo],Zo=(()=>{let e=class e{static withConfig(r){return{ngModule:e,providers:r.disableAnimations?qc:Jo}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Ot({type:e}),e.\u0275inj=Nt({providers:Jo,imports:[it]});let n=e;return n})();var ea=(()=>{let e=class e{intercept(r,i){let s="your-auth-token",o=r.clone({setHeaders:{"Content-Type":"application/x-www-form-urlencoded"}});return i.handle(o)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=ue({token:e,factory:e.\u0275fac});let n=e;return n})();var ta=(()=>{let e=class e{intercept(r,i){return console.log("Outgoing Request:",r),i.handle(r).pipe(Ii(s=>{console.log("Incoming Response:",s)}))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=ue({token:e,factory:e.\u0275fac});let n=e;return n})();var na=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Ot({type:e,bootstrap:[Qi]}),e.\u0275inj=Nt({providers:[{provide:Rn,useClass:ea,multi:!0},{provide:Rn,useClass:ta,multi:!0}],imports:[it,ki,ji,kn,zi,kn.forRoot(To,{useHash:!0}),it,Zo]});let n=e;return n})();hn.production&&void 0;Mi().bootstrapModule(na).catch(n=>console.error(n));
